"use strict";!function(t){var n={el:null,init:function(){for(var t=this,n=document.querySelectorAll("body .accordion"),i=0;i<n.length;i++)n[i].addEventListener("click",function(n){var i=n.target||e.srcElement;i.className.indexOf("menu-label")>-1&&t._toggleActive(i)})},_toggleActive:function(e){var t=e.nextElementSibling;return-1===e.className.indexOf("active")?(e.classList.add("active"),t.style.height=1.3*this._innerHeight(t)+"px"):(e.classList.remove("active"),t.style.height=0),e},_innerHeight:function(e){height=0;for(var t=e.querySelectorAll("*"),n=0;n<t.length;n++)height+=t[n].clientHeight;return height}};window.$AC=n}(),$AC.init(),function(window){var calc={result:null,elements:{display:document.getElementById("display")},_setDisplay:function(e){this.elements.display.value=e},clear:function(){this._setDisplay("")},del:function(){var e=this.elements.display.value.slice(0,-1);(e.endsWith(".")||e.endsWith(","))&&(e=e.slice(0,-1)),this._setDisplay(e)},equals:function(){this.result=this.elements.display.value;var evalCode=this.result/100+";";this._setDisplay(eval(evalCode))}};window.calc=calc}(window);var _templateObject=_taggedTemplateLiteral(['<ul class="carousel__nav">\n\t\t\t\t',"\n\t\t\t</ul>"],['<ul class="carousel__nav">\n\t\t\t\t',"\n\t\t\t</ul>"]);function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Gallery(){var e=this;this.items=document.querySelectorAll("article.gallery-item"),this.bg=document.querySelector(".backimage"),this.init=function(){var t=e;t.items.forEach(function(e){e.addEventListener("click",function(){t.changeImage(this)})}),t.swipeDetection(function(e){if("none"===e)return!1;var n=document.querySelector(".gallery-item.active"),i=void 0;"left"!==e&&"top"!==e||null===(i=n.previousElementSibling)&&(i=t.items[t.items.length-1]),"right"!==e&&"bottom"!==e||null===(i=n.nextElementSibling)&&(i=t.items[0]),i.onclick?i.onclick():i.click&&i.click()}),e.changeImage(e.items[0])},this.changeImage=function(t){var n=e,i=t.querySelector("img").src;n.items.forEach(function(e){e.classList.remove("active")}),t.classList.add("active"),n.bg.classList.remove("fadeout","fadein"),n.bg.classList.add("fadeout"),setTimeout(function(){n.bg.classList.remove("fadeout"),n.bg.classList.add("fadein"),n.bg.style.backgroundImage="url('"+i+"')"},500)},this.swipeDetection=function(t){var n=e.bg,i=void 0,a=void 0,o=void 0,r=void 0,c=void 0,l=void 0,s=t||function(e){};n.addEventListener("touchstart",function(e){var t=e.changedTouches[0];i="none",dist=0,a=t.pageX,o=t.pageY,l=(new Date).getTime(),e.preventDefault()},!1),n.addEventListener("touchmove",function(e){e.preventDefault()},!1),n.addEventListener("touchend",function(e){var t=e.changedTouches[0];r=t.pageX-a,c=t.pageY-o,(new Date).getTime()-l<=300&&(Math.abs(r)>=80&&Math.abs(c)<=100?i=r<0?"left":"right":Math.abs(c)>=80&&Math.abs(r)<=100&&(i=c<0?"up":"down")),s(i),e.preventDefault()},!1)},this.init()}!function(e){window.carousel=void document.querySelectorAll(".carousel").forEach(function(e){new function(e){var t=this,n=e;this.items=n.querySelectorAll(".carousel__items > .carousel__item"),this.navItems=null,this.arrows=null,this.init=function(){t._generateNavigation(),t._generateArrows()},this.goTo=function(e){var i=n.querySelector(".carousel__nav > .carousel__nav-item--active"),a=n.querySelector(".carousel__item--active");i.classList.remove("carousel__nav-item--active"),a.classList.remove("carousel__item--active"),t.navItems[e].classList.add("carousel__nav-item--active"),t.items[e].classList.add("carousel__item--active")},this.arrowNav=function(e){var i=n.querySelector(".carousel__nav > .carousel__nav-item--active"),a=Number.parseInt(i.dataset.index)+e;void 0===t.navItems[a]&&(a=e>0?0:t.navItems.length-1),t.goTo(a)},this._generateNavigation=function(){var e,t,i,a,o=this,r=this.items,c="",l=document.createElement("div");t=r,i=(e=_templateObject)[0],a="carousel__nav-item--active",t.forEach(function(e,t){i+='<li class="carousel__nav-item '+a+'" data-index='+t+"> </li>",a=""}),c=i+=e[1],l.innerHTML=c,n.appendChild(l),this.navItems=n.querySelectorAll(".carousel__nav > li"),this.navItems.forEach(function(e){e.addEventListener("click",function(){o.arrowNav(1),o.goTo(this.dataset.index)})})},this._generateArrows=function(){var e=this,t=document.createElement("div");t.innerHTML='<span class="carousel__arrow carousel__arrow--left fa fa-chevron-left"></span>\n\t\t\t\t<span class="carousel__arrow carousel__arrow--right fa fa-chevron-right"></span>',n.appendChild(t),n.querySelector(".carousel__arrow--left").addEventListener("click",function(){e.arrowNav(-1)}),n.querySelector(".carousel__arrow--right").addEventListener("click",function(){e.arrowNav(1)})}}(e).init()})}();var $G=new Gallery;function windowWidthCount(){document.querySelector(".window-width-label").innerHTML=window.outerWidth}function closeLateralMenu(){document.querySelector("#menu-open").checked=""}function loadLiveExample(e){document.querySelector(".iframe-live").src=e}window.onload=function(){return windowWidthCount()},window.addEventListener("resize",function(){return windowWidthCount()}),function(e){var t=function(e){return document.cookie.split(";").reduce(function(e,t){var n=t.split("=");return e[n[0].trim()]=n[1],e},{})[e]},n=function(){var e=function(){var e=(Date.now()-t("last_visit"))/1e3,n=Math.floor(e/86400);e-=3600*n*24;var i=Math.floor(e/3600);e-=3600*i;var a=Math.floor(e/60);e-=60*a;var o=[];return n&&o.push(n+"d"),(n||i)&&o.push(i+"h"),(n||i||a)&&o.push(a+"m"),o.push(Math.floor(e)+"s"),o.join(" ")}();document.querySelector(".about__last-visit").innerHTML="Your last visit was "+e+" ago."};t("last_visit")>0&&(n(),setInterval(n,1e3)),e.addEventListener("unload",function(){var e,t;e=new Date,t=new Date(e.getTime()+63072e7),document.cookie="last_visit="+e.getTime()+";expires="+t.toUTCString()})}(window),function(e){Array.from(document.querySelectorAll("img[data-src]"),function(e){var t,n,i,a=((t=document.createElement("div")).classList.add("img-loader"),t.innerHTML='<div class="img-loader__icon">\n\t\t<span class="fa fa-refresh fa-spin">\n\t\t</span></div>',t);e.parentElement.insertBefore(a,e),e.setAttribute("src",e.getAttribute("data-src")),e.onload=(n=e,i=a,function(){i.remove(),n.removeAttribute("data-src")})})}(window),function(e){var t="modal__overlay--active";function n(e){e.style.opacity=1,function n(){(e.style.opacity-=.1)<0?(e.style.display="none",e.classList.remove(t)):requestAnimationFrame(n)}()}e.modal=function(e){var i,a=null,o=document.querySelector('[data-modal-id="'+e+'"]');return document.querySelector('.modal__overlay > [data-modal-id="'+e+'"]')&&(a=document.querySelector('.modal__overlay > [data-modal-id="'+e+'"]').parentElement),null===a&&(i=document.querySelector("body"),(a=document.createElement("section")).style.display="none",a.classList.add("modal__overlay"),a.classList.add("modal__overlay--active"),o.style.display="block",a.appendChild(o),i.appendChild(a),Array.from(a.querySelectorAll("[data-close]"),function(e){e.addEventListener("click",function(){n(a)})})),{fadeIn:function(){var e;(e=a).style.opacity=0,e.style.display="block",function n(){var i=parseFloat(e.style.opacity);(i+=.1)>1||(e.style.opacity=i,e.classList.add(t),requestAnimationFrame(n))}()},fadeOut:function(){n(a)}}},Array.from(document.querySelectorAll("[data-modal-open]"),function(t){t.addEventListener("click",function(){var t=this.dataset.modalOpen;e.modal(t).fadeIn()})})}(window),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},function(e){var t=e,n=document.querySelector(".content-holder"),i=document.querySelector(".navbar").getBoundingClientRect().height+10;t.getPosY=function(e){return(e=e.getBoundingClientRect()).top+n.scrollTop-i},t.scrollToElement=function(i,a,o){if(a||(a=1e3),i.nodeName||(i=document.querySelector(i)),!i)throw"Element inexistent!";var r=n.scrollTop,c=t.getPosY(i)-r,l=void 0;e.requestAnimFrame(function t(i){l||(l=i);var s,u=i-l,d=Math.min(u/a,1);d=(s=d)<.5?4*s*s*s:(s-1)*(2*s-2)*(2*s-2)+1,n.scrollTo(0,r+c*d),u<a?e.requestAnimFrame(t):o&&o()})},e.scrollToElement=t.scrollToElement}(window),function(e){Array.from(document.querySelectorAll(".tab__title")).forEach(function(e){e.addEventListener("click",function(){var e,t,n,i,a;e=this.dataset.tabId,t=Array.from(document.querySelectorAll(".tab__title--selected")),n=Array.from(document.querySelectorAll("[data-tab-id='"+e+"']")),i=document.querySelector(".tab__content--selected"),a=document.querySelector("[data-content-id='"+e+"']"),t.forEach(function(e){return e.classList.remove("tab__title--selected")}),n.forEach(function(e){return e.classList.add("tab__title--selected")}),i.classList.remove("tab__content--selected"),a.classList.add("tab__content--selected")})}),Array.from(document.querySelectorAll(".tab__container > .tab__title")).forEach(function(t){t.addEventListener("click",function(){e.scrollToElement(this,1e3)})})}(window),function(e){function t(e){var t=new XMLHttpRequest;t.onload=function(){return n=e,i=t.response,document.getElementById("triviaNumber").innerHTML=n,void(document.getElementById("triviaAnswer").innerHTML=i);var n,i},t.open("GET","http://numbersapi.com/"+e),t.setRequestHeader("Accept","application/json"),t.send()}function n(){t(Math.floor(200*Math.random()))}n(),e.newTrivia=n}(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY29yZGlvbi5qcyIsImNhbGN1bGF0b3IuanMiLCJnYWxsZXJ5LmpzIiwiY2Fyb3VzZWwuanMiLCJnbG9iYWwuanMiLCJsYXN0LXZpc2l0LmpzIiwibGF6eS1sb2FkLmpzIiwibW9kYWwuanMiLCJzY3JvbGx0by5qcyIsInRhYi5qcyIsInRyaXZpYS5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJhY2NvcmRpb24iLCJzZWxmIiwidGhpcyIsImFjTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIngiLCJsZW5ndGgiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjbGlja2VkRWxlbWVudCIsInRhcmdldCIsImUiLCJzcmNFbGVtZW50IiwiY2xhc3NOYW1lIiwiaW5kZXhPZiIsIl90b2dnbGVBY3RpdmUiLCJpdGVtIiwiYm9keUVsIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJoZWlnaHQiLCJfaW5uZXJIZWlnaHQiLCJyZW1vdmUiLCJlbCIsImlubmVyRWxlbWVudHMiLCJpIiwiY2xpZW50SGVpZ2h0IiwiJEFDIiwiaW5pdCIsImNhbGMiLCJyZXN1bHQiLCJlbGVtZW50cyIsImRpc3BsYXkiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRlbnQiLCJ2YWx1ZSIsIl9zZXREaXNwbGF5IiwiZGlzcGxheVZhbHVlIiwic2xpY2UiLCJlbmRzV2l0aCIsImV2YWxDb2RlIiwiZXZhbCIsIkdhbGxlcnkiLCJfdGhpcyIsIml0ZW1zIiwiYmciLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWFjaCIsImNoYW5nZUltYWdlIiwic3dpcGVEZXRlY3Rpb24iLCJzd2lwZURpciIsImFjdGl2ZUl0ZW0iLCJzZWxlY3RlZEl0ZW0iLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwib25jbGljayIsImNsaWNrIiwic3JjIiwiaW1hZ2UiLCJzZXRUaW1lb3V0IiwiYmFja2dyb3VuZEltYWdlIiwiY2FsbGJhY2siLCJ0b3VjaHN1cmZhY2UiLCJzd2lwZWRpciIsInN0YXJ0WCIsInN0YXJ0WSIsImRpc3RYIiwiZGlzdFkiLCJzdGFydFRpbWUiLCJoYW5kbGVzd2lwZSIsInRvdWNob2JqIiwiY2hhbmdlZFRvdWNoZXMiLCJkaXN0IiwicGFnZVgiLCJwYWdlWSIsIkRhdGUiLCJnZXRUaW1lIiwicHJldmVudERlZmF1bHQiLCJNYXRoIiwiYWJzIiwiY2Fyb3VzZWwiLCJlbGVtZW50Iiwicm9vdCIsIm5hdkl0ZW1zIiwiYXJyb3dzIiwiX2dlbmVyYXRlTmF2aWdhdGlvbiIsIl9nZW5lcmF0ZUFycm93cyIsImdvVG8iLCJpbmRleCIsInNlbGVjdGVkTmF2Iiwic2VsZWN0ZWRDb250ZW50IiwiYXJyb3dOYXYiLCJkaXJlY3Rpb24iLCJnb3RvSW5kZXgiLCJOdW1iZXIiLCJwYXJzZUludCIsImRhdGFzZXQiLCJ1bmRlZmluZWQiLCJzdHJpbmdzIiwidG9rZW5zIiwibWFya3VwIiwiZmlyc3RDbGFzcyIsImh0bWwiLCJuYXZFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsIl90ZW1wbGF0ZU9iamVjdCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwibmF2SXRlbSIsImFycm93Q29udGFpbmVyIiwiJEciLCJ3aW5kb3dXaWR0aENvdW50Iiwib3V0ZXJXaWR0aCIsImNsb3NlTGF0ZXJhbE1lbnUiLCJjaGVja2VkIiwibG9hZExpdmVFeGFtcGxlIiwib25sb2FkIiwiZ2V0Q29va2llIiwiY29va2llS2V5IiwiY29va2llIiwic3BsaXQiLCJyZWR1Y2UiLCJvYmoiLCJrZXlWYWx1ZSIsInRyaW0iLCJyZW5kZXJMYXN0VmlzaXQiLCJ0aW1lIiwic2Vjb25kcyIsIm5vdyIsImRheXMiLCJmbG9vciIsImhvdXJzIiwibWludXRlcyIsInRtcCIsInB1c2giLCJqb2luIiwiY2FsY3VsYXRlTGFzdFZpc2l0Iiwic2V0SW50ZXJ2YWwiLCJleHBpcmVEYXRlIiwidG9VVENTdHJpbmciLCJBcnJheSIsImZyb20iLCIkaW1hZ2UiLCJsb2FkaW5nIiwicGFyZW50RWxlbWVudCIsImluc2VydEJlZm9yZSIsInNldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImNiQ2xhc3MiLCJmYWRlT3V0Iiwib3BhY2l0eSIsImZhZGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb2RhbCIsImlkTW9kYWwiLCJib2R5IiwibW9kYWxPdmVybGF5IiwiY2xvc2VFbGVtZW50IiwiZmFkZUluIiwidmFsIiwicGFyc2VGbG9hdCIsIm1vZGFsT3BlbmVyIiwibW9kYWxPcGVuIiwicmVxdWVzdEFuaW1GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNjcm9sbFdpbmRvdyIsIm1lbnVIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRQb3NZIiwidG9wIiwic2Nyb2xsVG9wIiwic2Nyb2xsVG9FbGVtZW50IiwiZHVyYXRpb24iLCJjYkZ1bmN0aW9uIiwibm9kZU5hbWUiLCJzdGFydGluZ1kiLCJkaWZmIiwic3RhcnQiLCJzdGVwIiwidGltZXN0YW1wIiwidCIsInBlcmNlbnQiLCJtaW4iLCJzY3JvbGxUbyIsInRhYiIsInRhYklkIiwicHJldmlvdXNUYWJzIiwiYWN0aXZlVGFicyIsInByZXZpb3VzQ29udGVudCIsImFjdGl2ZUNvbnRlbnQiLCJ0YWJDb250YWluZXIiLCJfcmVxdWVzdFRyaXZpYSIsIm51bWJlciIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiYW5zd2VyIiwicmVzcG9uc2UiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJuZXdUcml2aWEiLCJyYW5kb20iXSwibWFwcGluZ3MiOiJjQUFBLFNBQVVBLEdBQ1IsSUFBSUMsR0FFSkEsR0FBZSxLQUVmQSxLQUFpQixXQU9oQixJQU5BLElBQUlDLEVBQU9DLEtBR1BDLEVBQVNDLFNBQVNDLGlCQUFpQixtQkFHOUJDLEVBQUUsRUFBR0EsRUFBR0gsRUFBT0ksT0FBUUQsSUFFL0JILEVBQU9HLEdBQUdF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LFVBQVkyRixHQUZyRCxJQUFpQkgsRUFBUUcsR0FVeEJGLEVBQUlJLEtBQUssTUFBTyx5QkFBMkJMLEdBQzNDQyxFQUFJSyxpQkFBaUIsU0FBVSxvQkFDL0JMLEVBQUlNLE9BR0wsU0FBU0MsSUFDUlQsRUFuQk9uSCxLQUFLb0QsTUFBc0IsSUFBaEJwRCxLQUFLNkgsV0FzQnhCRCxJQUVBN00sRUFBTzZNLFVBQVlBLEVBNUJwQixDQTZCRzdNIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24od2luZG93KXtcclxuXHRcdHZhciBhY2NvcmRpb24gPSB7fTtcclxuXHJcblx0XHRhY2NvcmRpb24uZWwgPSBudWxsO1xyXG5cclxuXHRcdGFjY29yZGlvbi5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdC8vTGlzdCBhbGwgYWNjb3JkaW9uc1xyXG5cdFx0XHR2YXIgYWNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYm9keSAuYWNjb3JkaW9uJyk7XHJcblxyXG5cdFx0XHQvL1RvIGVhY2ggb25lXHJcblx0XHRcdGZvciggdmFyIHg9MDsgeDwgYWNMaXN0Lmxlbmd0aDsgeCsrKSB7XHJcblx0XHRcdFx0Ly9BZGQgbWVudS1sYWJlbCBjbGljayBldmVudCB0byBzaG93L2hpZGUgYm9kZHlcclxuXHRcdFx0XHRhY0xpc3RbeF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydCBJRTYtOFxyXG5cdFx0XHRcdFx0dmFyIGNsaWNrZWRFbGVtZW50ID0gZXZlbnQudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuXHJcblx0XHRcdFx0XHQvL09ubHkgbGlzdGVuIHRvIGNsaWNrcyBvbiBtZW51LWxhYmVsIGVsZW1lbnRzLlxyXG5cdFx0XHRcdFx0aWYgKGNsaWNrZWRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKCdtZW51LWxhYmVsJykgPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLl90b2dnbGVBY3RpdmUoY2xpY2tlZEVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGFjY29yZGlvbi5fdG9nZ2xlQWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xyXG5cdFx0XHR2YXIgYm9keUVsID0gaXRlbS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcblx0XHRcdC8vSWYgaXRlbSB0aXRsZSBpcyBub3QgYWN0aXZlXHJcblx0XHRcdGlmIChpdGVtLmNsYXNzTmFtZS5pbmRleE9mKCdhY3RpdmUnKSA9PT0gLTEpIHtcclxuXHRcdFx0XHQvL0FjdGl2YXRlIGl0XHJcblx0XHRcdFx0Ly9pdGVtLmNsYXNzTmFtZSArPSAnIGFjdGl2ZSAnO1xyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRcdGJvZHlFbC5zdHlsZS5oZWlnaHQgPSAodGhpcy5faW5uZXJIZWlnaHQoYm9keUVsKSoxLjMpKydweCc7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly9EZXNhY3RpdmF0ZSBpdFxyXG5cdFx0XHRcdC8vaXRlbS5jbGFzc05hbWUgPSBpdGVtLmNsYXNzTmFtZS5yZXBsYWNlKC8gYWN0aXZlIC9nLCcnKTtcdFxyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdFx0Ym9keUVsLnN0eWxlLmhlaWdodCA9IDA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBpdGVtO1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0YWNjb3JkaW9uLl9pbm5lckhlaWdodCA9IGZ1bmN0aW9uKGVsKSB7XHJcblx0XHRcdGhlaWdodCA9IDA7XHJcblx0XHRcdHZhciBpbm5lckVsZW1lbnRzID0gZWwucXVlcnlTZWxlY3RvckFsbCgnKicpO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpPCBpbm5lckVsZW1lbnRzLmxlbmd0aDsgaSsrICkge1xyXG5cdFx0XHRcdGhlaWdodCArPSBpbm5lckVsZW1lbnRzW2ldLmNsaWVudEhlaWdodDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGhlaWdodDtcclxuXHRcdH07XHJcblxyXG5cdFx0d2luZG93LiRBQyA9IGFjY29yZGlvbjtcclxuXHJcbn0pKHdpbmRvdyk7XHJcblxyXG4kQUMuaW5pdCgpOyIsIihmdW5jdGlvbih3aW5kb3cpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0dmFyIGNhbGMgPSB7XHJcblx0XHRyZXN1bHQ6IG51bGwsXHJcblx0XHRlbGVtZW50czoge1xyXG5cdFx0XHRkaXNwbGF5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheScpXHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y2FsYy5fc2V0RGlzcGxheSA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdHRoaXMuZWxlbWVudHMuZGlzcGxheS52YWx1ZSA9IGNvbnRlbnQ7XHJcblx0fTtcclxuXHJcblx0Y2FsYy5jbGVhciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fc2V0RGlzcGxheSgnJyk7XHJcblx0fTtcclxuXHJcblx0Y2FsYy5kZWwgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBkaXNwbGF5VmFsdWUgPSB0aGlzLmVsZW1lbnRzLmRpc3BsYXkudmFsdWUuc2xpY2UoMCwgLTEpO1xyXG5cclxuXHRcdGlmIChkaXNwbGF5VmFsdWUuZW5kc1dpdGgoJy4nKSB8fCBkaXNwbGF5VmFsdWUuZW5kc1dpdGgoJywnKSkge1xyXG5cdFx0XHRkaXNwbGF5VmFsdWUgPSBkaXNwbGF5VmFsdWUuc2xpY2UoMCwgLTEpOyAvL1JlbW92ZSAsIG9yIC5cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9zZXREaXNwbGF5KGRpc3BsYXlWYWx1ZSk7XHJcblx0fTtcclxuXHJcblx0Y2FsYy5lcXVhbHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMucmVzdWx0ID0gdGhpcy5lbGVtZW50cy5kaXNwbGF5LnZhbHVlO1xyXG5cdFx0dmFyIGV2YWxDb2RlID0gJycgKyB0aGlzLnJlc3VsdCAvIDEwMCArICc7JztcclxuXHJcblx0XHR0aGlzLl9zZXREaXNwbGF5KGV2YWwoZXZhbENvZGUpKTtcclxuXHR9O1xyXG5cclxuXHR3aW5kb3cuY2FsYyA9IGNhbGM7XHJcbn0pKHdpbmRvdyk7XHJcbiIsImZ1bmN0aW9uIEdhbGxlcnkoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHR0aGlzLml0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYXJ0aWNsZS5nYWxsZXJ5LWl0ZW0nKTtcclxuXHR0aGlzLmJnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tpbWFnZScpO1xyXG5cclxuXHR0aGlzLmluaXQgPSAoKSA9PiB7XHJcblx0XHRsZXQgc2VsZiA9IHRoaXM7XHJcblx0XHRzZWxmLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLmNoYW5nZUltYWdlKHRoaXMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vSW5pdCBzd2lwZSBkZXRlY3Rpb25cclxuXHRcdHNlbGYuc3dpcGVEZXRlY3Rpb24oc3dpcGVEaXIgPT4ge1xyXG5cdFx0XHRpZiAoc3dpcGVEaXIgPT09ICdub25lJykgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0bGV0IGFjdGl2ZUl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeS1pdGVtLmFjdGl2ZScpO1xyXG5cclxuXHRcdFx0bGV0IHNlbGVjdGVkSXRlbTtcclxuXHRcdFx0aWYgKHN3aXBlRGlyID09PSAnbGVmdCcgfHwgc3dpcGVEaXIgPT09ICd0b3AnKSB7XHJcblx0XHRcdFx0Ly9QcmV2aW91c1xyXG5cdFx0XHRcdHNlbGVjdGVkSXRlbSA9IGFjdGl2ZUl0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZztcclxuXHJcblx0XHRcdFx0aWYgKHNlbGVjdGVkSXRlbSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0Ly9JZiB0aGVyZSBpcyBubyBwcmV2aW91cyBpdGVtLCB1c2VzIHRoZSBsYXN0IG9uZVxyXG5cdFx0XHRcdFx0c2VsZWN0ZWRJdGVtID0gc2VsZi5pdGVtc1tzZWxmLml0ZW1zLmxlbmd0aCAtIDFdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHN3aXBlRGlyID09PSAncmlnaHQnIHx8IHN3aXBlRGlyID09PSAnYm90dG9tJykge1xyXG5cdFx0XHRcdC8vTmV4dFxyXG5cdFx0XHRcdHNlbGVjdGVkSXRlbSA9IGFjdGl2ZUl0ZW0ubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG5cclxuXHRcdFx0XHRpZiAoc2VsZWN0ZWRJdGVtID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHQvL0lmIHRoZXJlIGlzIG5vIG5leHQgaXRlbSwgdXNlcyB0aGUgZmlyc3Qgb25lXHJcblx0XHRcdFx0XHRzZWxlY3RlZEl0ZW0gPSBzZWxmLml0ZW1zWzBdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9GRi9DaHJvbWUgY2xpY2sgbmFtZSBmdW5jdGlvbiBkaWZmZXJlbmNlXHJcblx0XHRcdGlmIChzZWxlY3RlZEl0ZW0ub25jbGljaykge1xyXG5cdFx0XHRcdHNlbGVjdGVkSXRlbS5vbmNsaWNrKCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2VsZWN0ZWRJdGVtLmNsaWNrKSB7XHJcblx0XHRcdFx0c2VsZWN0ZWRJdGVtLmNsaWNrKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuY2hhbmdlSW1hZ2UodGhpcy5pdGVtc1swXSk7XHJcblx0fTtcclxuXHJcblx0dGhpcy5jaGFuZ2VJbWFnZSA9IGl0ZW0gPT4ge1xyXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xyXG5cdFx0bGV0IHNyYyA9IGl0ZW0ucXVlcnlTZWxlY3RvcignaW1nJykuc3JjO1xyXG5cclxuXHRcdHNlbGYuaXRlbXMuZm9yRWFjaChpbWFnZSA9PiB7XHJcblx0XHRcdGltYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly9zZXQgdGhlIHNlbGVjdGVkIGl0ZW0gYXMgYWN0aXZlXHJcblx0XHRpdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuXHRcdHNlbGYuYmcuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZW91dCcsICdmYWRlaW4nKTtcclxuXHRcdHNlbGYuYmcuY2xhc3NMaXN0LmFkZCgnZmFkZW91dCcpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRzZWxmLmJnLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGVvdXQnKTtcclxuXHRcdFx0c2VsZi5iZy5jbGFzc0xpc3QuYWRkKCdmYWRlaW4nKTtcclxuXHRcdFx0c2VsZi5iZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke3NyY30nKWA7XHJcblx0XHR9LCA1MDApO1xyXG5cdH07XHJcblxyXG5cdC8vIFRoYW5rcyB0byBodHRwOi8vd3d3LmphdmFzY3JpcHRraXQuY29tL2phdmF0dXRvcnMvdG91Y2hldmVudHMyLnNodG1sXHJcblx0Ly8gUFM6LiBJJ3ZlIGRvbmUgdGhpcyBqdXN0IGZvciBzdHVkeSBwdXJwb3NlcywgaSdkIHJhdGhlciB0byBzZXBhcmF0ZSB0aGlzIGNvZGUgb3V0c2lkZSB0aGUgZ2FsbGVyeSBpdHNlbGZcclxuXHR0aGlzLnN3aXBlRGV0ZWN0aW9uID0gY2FsbGJhY2sgPT4ge1xyXG5cdFx0bGV0IHRvdWNoc3VyZmFjZSA9IHRoaXMuYmcsXHJcblx0XHRcdHN3aXBlZGlyLFxyXG5cdFx0XHRzdGFydFgsXHJcblx0XHRcdHN0YXJ0WSxcclxuXHRcdFx0ZGlzdFgsXHJcblx0XHRcdGRpc3RZLFxyXG5cdFx0XHR0aHJlc2hvbGQgPSA4MCwgLy9yZXF1aXJlZCBtaW4gZGlzdGFuY2UgdHJhdmVsZWQgdG8gYmUgY29uc2lkZXJlZCBzd2lwZVxyXG5cdFx0XHRyZXN0cmFpbnQgPSAxMDAsIC8vIG1heGltdW0gZGlzdGFuY2UgYWxsb3dlZCBhdCB0aGUgc2FtZSB0aW1lIGluIHBlcnBlbmRpY3VsYXIgZGlyZWN0aW9uXHJcblx0XHRcdGFsbG93ZWRUaW1lID0gMzAwLCAvLyBtYXhpbXVtIHRpbWUgYWxsb3dlZCB0byB0cmF2ZWwgdGhhdCBkaXN0YW5jZVxyXG5cdFx0XHRlbGFwc2VkVGltZSxcclxuXHRcdFx0c3RhcnRUaW1lLFxyXG5cdFx0XHRoYW5kbGVzd2lwZSA9IGNhbGxiYWNrIHx8IChzd2lwZWRpciA9PiB7fSk7XHJcblxyXG5cdFx0dG91Y2hzdXJmYWNlLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdCd0b3VjaHN0YXJ0JyxcclxuXHRcdFx0ZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGxldCB0b3VjaG9iaiA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XHJcblx0XHRcdFx0c3dpcGVkaXIgPSAnbm9uZSc7XHJcblx0XHRcdFx0ZGlzdCA9IDA7XHJcblx0XHRcdFx0c3RhcnRYID0gdG91Y2hvYmoucGFnZVg7XHJcblx0XHRcdFx0c3RhcnRZID0gdG91Y2hvYmoucGFnZVk7XHJcblx0XHRcdFx0c3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7IC8vIHJlY29yZCB0aW1lIHdoZW4gZmluZ2VyIGZpcnN0IG1ha2VzIGNvbnRhY3Qgd2l0aCBzdXJmYWNlXHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRmYWxzZVxyXG5cdFx0KTtcclxuXHJcblx0XHR0b3VjaHN1cmZhY2UuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0J3RvdWNobW92ZScsXHJcblx0XHRcdGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgc2Nyb2xsaW5nIHdoZW4gaW5zaWRlIERJVlxyXG5cdFx0XHR9LFxyXG5cdFx0XHRmYWxzZVxyXG5cdFx0KTtcclxuXHJcblx0XHR0b3VjaHN1cmZhY2UuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0J3RvdWNoZW5kJyxcclxuXHRcdFx0ZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGxldCB0b3VjaG9iaiA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XHJcblx0XHRcdFx0ZGlzdFggPSB0b3VjaG9iai5wYWdlWCAtIHN0YXJ0WDsgLy8gZ2V0IGhvcml6b250YWwgZGlzdCB0cmF2ZWxlZCBieSBmaW5nZXIgd2hpbGUgaW4gY29udGFjdCB3aXRoIHN1cmZhY2VcclxuXHRcdFx0XHRkaXN0WSA9IHRvdWNob2JqLnBhZ2VZIC0gc3RhcnRZOyAvLyBnZXQgdmVydGljYWwgZGlzdCB0cmF2ZWxlZCBieSBmaW5nZXIgd2hpbGUgaW4gY29udGFjdCB3aXRoIHN1cmZhY2VcclxuXHRcdFx0XHRlbGFwc2VkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lOyAvLyBnZXQgdGltZSBlbGFwc2VkXHJcblx0XHRcdFx0aWYgKGVsYXBzZWRUaW1lIDw9IGFsbG93ZWRUaW1lKSB7XHJcblx0XHRcdFx0XHQvLyBmaXJzdCBjb25kaXRpb24gZm9yIGF3aXBlIG1ldFxyXG5cdFx0XHRcdFx0aWYgKE1hdGguYWJzKGRpc3RYKSA+PSB0aHJlc2hvbGQgJiYgTWF0aC5hYnMoZGlzdFkpIDw9IHJlc3RyYWludCkge1xyXG5cdFx0XHRcdFx0XHQvLyAybmQgY29uZGl0aW9uIGZvciBob3Jpem9udGFsIHN3aXBlIG1ldFxyXG5cdFx0XHRcdFx0XHRzd2lwZWRpciA9IGRpc3RYIDwgMCA/ICdsZWZ0JyA6ICdyaWdodCc7IC8vIGlmIGRpc3QgdHJhdmVsZWQgaXMgbmVnYXRpdmUsIGl0IGluZGljYXRlcyBsZWZ0IHN3aXBlXHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKE1hdGguYWJzKGRpc3RZKSA+PSB0aHJlc2hvbGQgJiYgTWF0aC5hYnMoZGlzdFgpIDw9IHJlc3RyYWludCkge1xyXG5cdFx0XHRcdFx0XHQvLyAybmQgY29uZGl0aW9uIGZvciB2ZXJ0aWNhbCBzd2lwZSBtZXRcclxuXHRcdFx0XHRcdFx0c3dpcGVkaXIgPSBkaXN0WSA8IDAgPyAndXAnIDogJ2Rvd24nOyAvLyBpZiBkaXN0IHRyYXZlbGVkIGlzIG5lZ2F0aXZlLCBpdCBpbmRpY2F0ZXMgdXAgc3dpcGVcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aGFuZGxlc3dpcGUoc3dpcGVkaXIpO1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0ZmFsc2VcclxuXHRcdCk7XHJcblx0fTtcclxuXHJcblx0dGhpcy5pbml0KCk7XHJcbn1cclxuXHJcbmxldCAkRyA9IG5ldyBHYWxsZXJ5KCk7XHJcbiIsIi8vJGNhcm91c2VsXHJcbihmdW5jdGlvbih3aW5kb3cpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0ZnVuY3Rpb24gQ2Fyb3VzZWwoZWxlbWVudCkge1xyXG5cdFx0bGV0IHJvb3QgPSBlbGVtZW50O1xyXG5cdFx0dGhpcy5pdGVtcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsX19pdGVtcyA+IC5jYXJvdXNlbF9faXRlbScpO1xyXG5cdFx0dGhpcy5uYXZJdGVtcyA9IG51bGw7XHJcblx0XHR0aGlzLmFycm93cyA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy5pbml0ID0gKCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9nZW5lcmF0ZU5hdmlnYXRpb24oKTtcclxuXHRcdFx0dGhpcy5fZ2VuZXJhdGVBcnJvd3MoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5nb1RvID0gaW5kZXggPT4ge1xyXG5cdFx0XHRsZXQgc2VsZWN0ZWROYXYgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbF9fbmF2ID4gLmNhcm91c2VsX19uYXYtaXRlbS0tYWN0aXZlJyk7XHJcblx0XHRcdGxldCBzZWxlY3RlZENvbnRlbnQgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbF9faXRlbS0tYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRzZWxlY3RlZE5hdi5jbGFzc0xpc3QucmVtb3ZlKCdjYXJvdXNlbF9fbmF2LWl0ZW0tLWFjdGl2ZScpO1xyXG5cdFx0XHRzZWxlY3RlZENvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2Fyb3VzZWxfX2l0ZW0tLWFjdGl2ZScpO1xyXG5cclxuXHRcdFx0dGhpcy5uYXZJdGVtc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWxfX25hdi1pdGVtLS1hY3RpdmUnKTtcclxuXHRcdFx0dGhpcy5pdGVtc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWxfX2l0ZW0tLWFjdGl2ZScpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmFycm93TmF2ID0gZGlyZWN0aW9uID0+IHtcclxuXHRcdFx0bGV0IHNlbGVjdGVkTmF2ID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWxfX25hdiA+IC5jYXJvdXNlbF9fbmF2LWl0ZW0tLWFjdGl2ZScpO1xyXG5cdFx0XHRsZXQgZ290b0luZGV4ID0gTnVtYmVyLnBhcnNlSW50KHNlbGVjdGVkTmF2LmRhdGFzZXQuaW5kZXgpICsgZGlyZWN0aW9uO1xyXG5cdFx0XHRsZXQgZ29UbyA9IHRoaXMubmF2SXRlbXNbZ290b0luZGV4XTtcclxuXHJcblx0XHRcdGlmIChnb1RvID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRkaXJlY3Rpb24gPiAwID8gKGdvdG9JbmRleCA9IDApIDogKGdvdG9JbmRleCA9IHRoaXMubmF2SXRlbXMubGVuZ3RoIC0gMSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuZ29Ubyhnb3RvSW5kZXgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLl9nZW5lcmF0ZU5hdmlnYXRpb24gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0bGV0IHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRsZXQgaXRlbXMgPSB0aGlzLml0ZW1zO1xyXG5cdFx0XHRsZXQgaHRtbCA9ICcnO1xyXG5cdFx0XHRsZXQgbmF2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gYnVpbGRDYXJvdXNlbEl0ZW1zKHN0cmluZ3MsIHRva2Vucykge1xyXG5cdFx0XHRcdGxldCBtYXJrdXAgPSBzdHJpbmdzWzBdO1xyXG5cdFx0XHRcdGxldCBmaXJzdENsYXNzID0gJ2Nhcm91c2VsX19uYXYtaXRlbS0tYWN0aXZlJztcclxuXHJcblx0XHRcdFx0dG9rZW5zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRtYXJrdXAgKz0gYDxsaSBjbGFzcz1cImNhcm91c2VsX19uYXYtaXRlbSAke2ZpcnN0Q2xhc3N9XCIgZGF0YS1pbmRleD0ke2luZGV4fT4gPC9saT5gO1xyXG5cdFx0XHRcdFx0Zmlyc3RDbGFzcyA9ICcnO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRtYXJrdXAgKz0gc3RyaW5nc1sxXTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG1hcmt1cDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aHRtbCA9IGJ1aWxkQ2Fyb3VzZWxJdGVtc2A8dWwgY2xhc3M9XCJjYXJvdXNlbF9fbmF2XCI+XHJcblx0XHRcdFx0JHtpdGVtc31cclxuXHRcdFx0PC91bD5gO1xyXG5cclxuXHRcdFx0bmF2RWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xyXG5cdFx0XHRyb290LmFwcGVuZENoaWxkKG5hdkVsZW1lbnQpO1xyXG5cclxuXHRcdFx0dGhpcy5uYXZJdGVtcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsX19uYXYgPiBsaScpO1xyXG5cdFx0XHR0aGlzLm5hdkl0ZW1zLmZvckVhY2gobmF2SXRlbSA9PiB7XHJcblx0XHRcdFx0bmF2SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0c2VsZi5hcnJvd05hdigxKTtcclxuXHRcdFx0XHRcdHNlbGYuZ29Ubyh0aGlzLmRhdGFzZXQuaW5kZXgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5fZ2VuZXJhdGVBcnJvd3MgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0bGV0IHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRsZXQgYXJyb3dDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0YXJyb3dDb250YWluZXIuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiY2Fyb3VzZWxfX2Fycm93IGNhcm91c2VsX19hcnJvdy0tbGVmdCBmYSBmYS1jaGV2cm9uLWxlZnRcIj48L3NwYW4+XHJcblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJjYXJvdXNlbF9fYXJyb3cgY2Fyb3VzZWxfX2Fycm93LS1yaWdodCBmYSBmYS1jaGV2cm9uLXJpZ2h0XCI+PC9zcGFuPmA7XHJcblxyXG5cdFx0XHRyb290LmFwcGVuZENoaWxkKGFycm93Q29udGFpbmVyKTtcclxuXHJcblx0XHRcdHJvb3QucXVlcnlTZWxlY3RvcignLmNhcm91c2VsX19hcnJvdy0tbGVmdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5hcnJvd05hdigtMSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cm9vdC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWxfX2Fycm93LS1yaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5hcnJvd05hdigxKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0d2luZG93LmNhcm91c2VsID0gKGZ1bmN0aW9uKGVsZW1lbnRzKSB7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwnKS5mb3JFYWNoKGNhcm91c2VsID0+IHtcclxuXHRcdFx0bGV0IGNhciA9IG5ldyBDYXJvdXNlbChjYXJvdXNlbCk7XHJcblx0XHRcdGNhci5pbml0KCk7XHJcblx0XHR9KTtcclxuXHR9KSgpO1xyXG59KSh3aW5kb3cpO1xyXG4iLCJmdW5jdGlvbiB3aW5kb3dXaWR0aENvdW50KCkge1xyXG5cdGxldCAkd2lkdGhMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctd2lkdGgtbGFiZWwnKTtcclxuXHQkd2lkdGhMYWJlbC5pbm5lckhUTUwgPSB3aW5kb3cub3V0ZXJXaWR0aDtcclxufVxyXG5cclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHdpbmRvd1dpZHRoQ291bnQoKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB3aW5kb3dXaWR0aENvdW50KCkpO1xyXG5cclxuZnVuY3Rpb24gY2xvc2VMYXRlcmFsTWVudSgpIHtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudS1vcGVuJykuY2hlY2tlZCA9ICcnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkTGl2ZUV4YW1wbGUoc3JjKSB7XHJcblx0bGV0ICRpZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWZyYW1lLWxpdmUnKTtcclxuXHQkaWZyYW1lLnNyYyA9IHNyYztcclxufVxyXG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRjb25zdCBnZXRDb29raWUgPSBjb29raWVLZXkgPT4ge1xuXHRcdHJldHVybiBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5yZWR1Y2UoZnVuY3Rpb24ob2JqLCBjb29raWUpIHtcblx0XHRcdGxldCBrZXlWYWx1ZSA9IGNvb2tpZS5zcGxpdCgnPScpO1xuXHRcdFx0b2JqW2tleVZhbHVlWzBdLnRyaW0oKV0gPSBrZXlWYWx1ZVsxXTtcblxuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9LCB7fSlbY29va2llS2V5XTtcblx0fTtcblxuXHRjb25zdCBzZXRDb29raWUgPSAoKSA9PiB7XG5cdFx0bGV0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgZXhwaXJlRGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyAxMDAwICogNjAgKiA2MCAqIDI0ICogMzY1ICogMjApO1xuXHRcdGRvY3VtZW50LmNvb2tpZSA9IGBsYXN0X3Zpc2l0PSR7bm93LmdldFRpbWUoKX07ZXhwaXJlcz0ke2V4cGlyZURhdGUudG9VVENTdHJpbmcoKX1gO1xuXHR9O1xuXG5cdGNvbnN0IGNhbGN1bGF0ZUxhc3RWaXNpdCA9ICgpID0+IHtcblx0XHRsZXQgc2Vjb25kcyA9IChEYXRlLm5vdygpIC0gZ2V0Q29va2llKCdsYXN0X3Zpc2l0JykpIC8gMTAwMDtcblxuXHRcdGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAoMzYwMCAqIDI0KSk7XG5cblx0XHRzZWNvbmRzIC09IGRheXMgKiAzNjAwICogMjQ7XG5cblx0XHRjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuXG5cdFx0c2Vjb25kcyAtPSBob3VycyAqIDM2MDA7XG5cblx0XHRjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuXG5cdFx0c2Vjb25kcyAtPSBtaW51dGVzICogNjA7XG5cblx0XHRjb25zdCB0bXAgPSBbXTtcblxuXHRcdGRheXMgJiYgdG1wLnB1c2goZGF5cyArICdkJyk7XG5cblx0XHQoZGF5cyB8fCBob3VycykgJiYgdG1wLnB1c2goaG91cnMgKyAnaCcpO1xuXG5cdFx0KGRheXMgfHwgaG91cnMgfHwgbWludXRlcykgJiYgdG1wLnB1c2gobWludXRlcyArICdtJyk7XG5cblx0XHR0bXAucHVzaChNYXRoLmZsb29yKHNlY29uZHMpICsgJ3MnKTtcblxuXHRcdHJldHVybiB0bXAuam9pbignICcpO1xuXHR9O1xuXG5cdGNvbnN0IHJlbmRlckxhc3RWaXNpdCA9ICgpID0+IHtcblx0XHRjb25zdCB0aW1lID0gY2FsY3VsYXRlTGFzdFZpc2l0KCk7XG5cblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXRfX2xhc3QtdmlzaXQnKS5pbm5lckhUTUwgPSBgWW91ciBsYXN0IHZpc2l0IHdhcyAke3RpbWV9IGFnby5gO1xuXHR9O1xuXG5cdGlmIChnZXRDb29raWUoJ2xhc3RfdmlzaXQnKSA+IDApIHtcblx0XHRyZW5kZXJMYXN0VmlzaXQoKTtcblx0XHRzZXRJbnRlcnZhbChyZW5kZXJMYXN0VmlzaXQsIDEwMDApO1xuXHR9XG5cblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsICgpID0+IHtcblx0XHRzZXRDb29raWUoKTtcblx0fSk7XG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHQvL0dldCBhbGwgaW1hZ2VzIHRvIGJlIGxhenkgbG9hZGVkXHJcblx0QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWdbZGF0YS1zcmNdJyksICRpbWFnZSA9PiB7XHJcblx0XHRsZXQgbG9hZGluZyA9IGNyZWF0ZUxvYWRpbmcoKTtcclxuXHJcblx0XHQvL0luc2VydCBsb2FkaW5nIGVsZW1lbnQgYmVmb3JlIHRoZSBpbWFnZVxyXG5cdFx0JGltYWdlLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGxvYWRpbmcsICRpbWFnZSk7XHJcblxyXG5cdFx0Ly9EZWZpbmUgc3JjIGF0dHJpYnV0ZSB3aXRoIHRoZSBkYXRhLXNyY1xyXG5cdFx0JGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgJGltYWdlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKSk7XHJcblxyXG5cdFx0JGltYWdlLm9ubG9hZCA9IG9uTG9hZEltYWdlKCRpbWFnZSwgbG9hZGluZyk7XHJcblx0fSk7XHJcblxyXG5cdGZ1bmN0aW9uIG9uTG9hZEltYWdlKGltYWdlLCBsb2FkaW5nKSB7XHJcblx0XHRyZXR1cm4gKCkgPT4ge1xyXG5cdFx0XHQvL1JlbW92ZSBsb2FkaW5nIHdoZW4gaW1hZ2UgbG9hZHMuXHJcblx0XHRcdGxvYWRpbmcucmVtb3ZlKCk7XHJcblx0XHRcdC8vUmVtb3ZlIGRhdGEtc3JjIHRvIGFwcGx5IHRoZSBuZWVkZWQgY3NzIGFuaW1hdGlvbnMuXHJcblx0XHRcdGltYWdlLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBjcmVhdGVMb2FkaW5nKCkge1xyXG5cdFx0bGV0IGxvYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGxvYWRpbmcuY2xhc3NMaXN0LmFkZCgnaW1nLWxvYWRlcicpO1xyXG5cdFx0bG9hZGluZy5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cImltZy1sb2FkZXJfX2ljb25cIj5cclxuXHRcdDxzcGFuIGNsYXNzPVwiZmEgZmEtcmVmcmVzaCBmYS1zcGluXCI+XHJcblx0XHQ8L3NwYW4+PC9kaXY+YDtcclxuXHJcblx0XHRyZXR1cm4gbG9hZGluZztcclxuXHR9XHJcbn0pKHdpbmRvdyk7XHJcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgLy9DbGFzcyBhcHBsaWVkIHdoZW4gbW9kYWwgb3BhY2l0eSBpcyAxXHJcbiAgbGV0IGNiQ2xhc3MgPSAnbW9kYWxfX292ZXJsYXktLWFjdGl2ZSc7XHJcblxyXG4gIGZ1bmN0aW9uIGZhZGVPdXQoZWwpIHtcclxuICAgIGVsLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG5cclxuICAgIChmdW5jdGlvbiBmYWRlKCkge1xyXG4gICAgICBpZiAoKGVsLnN0eWxlLm9wYWNpdHkgLT0gMC4xKSA8IDApIHtcclxuICAgICAgICAvL2VsLnJlbW92ZSgpO1xyXG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjYkNsYXNzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZmFkZSk7XHJcbiAgICAgIH1cclxuICAgIH0pKCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBmYWRlSW4oZWwpIHtcclxuICAgIGVsLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgKGZ1bmN0aW9uIGZhZGUoKSB7XHJcbiAgICAgIGxldCB2YWwgPSBwYXJzZUZsb2F0KGVsLnN0eWxlLm9wYWNpdHkpO1xyXG4gICAgICAvL0luY3JlYXNlIG9wYWNpdHkgd2hpbGUgaXQgaXMgbm90IHRvdGFsbHkgb3BhcXVlLlxyXG4gICAgICBpZiAoISgodmFsICs9IDAuMSkgPiAxKSkge1xyXG4gICAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSB2YWw7XHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjYkNsYXNzKTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZmFkZSk7XHJcbiAgICAgIH1cclxuICAgIH0pKCk7XHJcbiAgfVxyXG5cclxuICB3aW5kb3cubW9kYWwgPSBpZE1vZGFsID0+IHtcclxuICAgIGxldCBtb2RhbE92ZXJsYXkgPSBudWxsO1xyXG4gICAgbGV0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kYWwtaWQ9XCInICsgaWRNb2RhbCArICdcIl0nKTtcclxuXHJcbiAgICBmdW5jdGlvbiBfY3JlYXRlT3ZlcmxheSgpIHtcclxuICAgICAgbGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcblxyXG4gICAgICAvL0NyZWF0ZSBtb2RhbCBvdmVybGF5IGVsZW1lbnRcclxuICAgICAgbW9kYWxPdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xyXG4gICAgICBtb2RhbE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgIG1vZGFsT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdtb2RhbF9fb3ZlcmxheScpO1xyXG4gICAgICBtb2RhbE92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnbW9kYWxfX292ZXJsYXktLWFjdGl2ZScpO1xyXG5cclxuICAgICAgLy9NYWtlIG1vZGFsIGNvbnRhaW5lciB2aXNpYmxlXHJcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgLy9BcHBlbmQgbW9kYWwgY29udGFpbmVyIGludG8gdGhlIGZyZXNoIG5ldyBvdmVybGF5XHJcbiAgICAgIG1vZGFsT3ZlcmxheS5hcHBlbmRDaGlsZChtb2RhbCk7XHJcblxyXG4gICAgICAvL0FwcGVuZCBtb2RhbCBvdmVybGF5IGludG8gdGhlIGRvY3VtZW50LlxyXG4gICAgICBib2R5LmFwcGVuZENoaWxkKG1vZGFsT3ZlcmxheSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3JlZ2lzdGVyQ2xvc2VFdmVudHMoKSB7XHJcbiAgICAgIEFycmF5LmZyb20obW9kYWxPdmVybGF5LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNsb3NlXScpLCBjbG9zZUVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGNsb3NlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZmFkZU91dChtb2RhbE92ZXJsYXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vQ2hlY2sgaWYgbW9kYWwgaXMgYWxyZWFkeSBjcmVhdGVkLlxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fb3ZlcmxheSA+IFtkYXRhLW1vZGFsLWlkPVwiJyArIGlkTW9kYWwgKyAnXCJdJykpIHtcclxuICAgICAgLy9TZXQgbW9kYWwgb3ZlcmxheSBhcyB0aGUgYWxyZWFkeSBjcmVhdGVkIG1vZGFsIG92ZXJsYXkuXHJcbiAgICAgIG1vZGFsT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fb3ZlcmxheSA+IFtkYXRhLW1vZGFsLWlkPVwiJyArIGlkTW9kYWwgKyAnXCJdJykucGFyZW50RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobW9kYWxPdmVybGF5ID09PSBudWxsKSB7XHJcbiAgICAgIF9jcmVhdGVPdmVybGF5KCk7XHJcbiAgICAgIF9yZWdpc3RlckNsb3NlRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmFkZUluOiAoKSA9PiB7XHJcbiAgICAgICAgZmFkZUluKG1vZGFsT3ZlcmxheSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZhZGVPdXQ6ICgpID0+IHtcclxuICAgICAgICBmYWRlT3V0KG1vZGFsT3ZlcmxheSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgLy9Jbml0IG1vZGFsIG9wZW5lcnNcclxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZGFsLW9wZW5dJyksIG1vZGFsT3BlbmVyID0+IHtcclxuICAgIG1vZGFsT3BlbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGxldCBpZE1vZGFsID0gdGhpcy5kYXRhc2V0Lm1vZGFsT3BlbjtcclxuICAgICAgd2luZG93Lm1vZGFsKGlkTW9kYWwpLmZhZGVJbigpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pKHdpbmRvdyk7XHJcbiIsIi8vIFJlZmVyZW5jZTogaHR0cDovL3d3dy5wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXHJcbndpbmRvdy5yZXF1ZXN0QW5pbUZyYW1lID0gKGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiAoXHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAoY2FsbGJhY2sgPT4ge1xyXG4gICAgICAvL1dvcnN0IGNhc2Ugc2NlbmFyaW8gdHJpZ2dlciBhbmltYXRpb24gdmlhIHNldFRpbWVvdXQuXHJcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xyXG4gICAgfSlcclxuICApO1xyXG59KSgpO1xyXG5cclxuLy9UaGlzIGlzIGFuIGFkYXB0YXRpb24gZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNzcyMjQ5Ny9zY3JvbGwtc21vb3RobHktdG8tc3BlY2lmaWMtZWxlbWVudC1vbi1wYWdlXHJcbihmdW5jdGlvbih3aW5kb3cpIHtcclxuICBsZXQgc2VsZiA9IHdpbmRvdztcclxuXHJcbiAgLy9UT0RPIEZsZXhiaWxpemUgdGhpcyBjb2RlLlxyXG4gIGxldCBzY3JvbGxXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudC1ob2xkZXInKTtcclxuXHJcbiAgLy9UT0RPIEZsZXhpYmlsaXplIHRoaXMgY29kZS5cclxuICBsZXQgbWVudUhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgKyAxMDtcclxuXHJcbiAgc2VsZi5nZXRQb3NZID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgZWxlbWVudCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICByZXR1cm4gZWxlbWVudC50b3AgKyBzY3JvbGxXaW5kb3cuc2Nyb2xsVG9wIC0gbWVudUhlaWdodDtcclxuICB9O1xyXG5cclxuICBzZWxmLnNjcm9sbFRvRWxlbWVudCA9IChlbGVtZW50LCBkdXJhdGlvbiwgY2JGdW5jdGlvbikgPT4ge1xyXG4gICAgaWYgKCFkdXJhdGlvbikge1xyXG4gICAgICBkdXJhdGlvbiA9IDEwMDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy9JZiBDU1Mgc2VsZWN0b3IgaXMgcGFzc2VkLlxyXG4gICAgaWYgKCFlbGVtZW50Lm5vZGVOYW1lKSB7XHJcbiAgICAgIC8vIFF1ZXJ5IGl0IGludG8gRE9NIGVsZW1lbnRcclxuICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFlbGVtZW50KSB7XHJcbiAgICAgIHRocm93ICdFbGVtZW50IGluZXhpc3RlbnQhJztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc3RhcnRpbmdZID0gc2Nyb2xsV2luZG93LnNjcm9sbFRvcDtcclxuXHJcbiAgICBsZXQgZGlmZiA9IHNlbGYuZ2V0UG9zWShlbGVtZW50KSAtIHN0YXJ0aW5nWTtcclxuICAgIGxldCBzdGFydDtcclxuXHJcbiAgICAvL0dvdCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2dyZS8xNjUwMjk0XHJcbiAgICBsZXQgZWFzaW5nID0gZnVuY3Rpb24odCkge1xyXG4gICAgICByZXR1cm4gdCA8IDAuNSA/IDQgKiB0ICogdCAqIHQgOiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEJvb3RzdHJhcCBvdXIgYW5pbWF0aW9uIC0gaXQgd2lsbCBnZXQgY2FsbGVkIHJpZ2h0IGJlZm9yZSBuZXh0IGZyYW1lIHNoYWxsIGJlIHJlbmRlcmVkLlxyXG4gICAgd2luZG93LnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24gc3RlcCh0aW1lc3RhbXApIHtcclxuICAgICAgaWYgKCFzdGFydCkgc3RhcnQgPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAvLyBFbGFwc2VkIG1pbGlzZWNvbmRzIHNpbmNlIHN0YXJ0IG9mIHNjcm9sbGluZy5cclxuICAgICAgbGV0IHRpbWUgPSB0aW1lc3RhbXAgLSBzdGFydDtcclxuICAgICAgLy8gR2V0IHBlcmNlbnQgb2YgY29tcGxldGlvbiBpbiByYW5nZSBbMCwgMV0uXHJcbiAgICAgIGxldCBwZXJjZW50ID0gTWF0aC5taW4odGltZSAvIGR1cmF0aW9uLCAxKTtcclxuXHJcbiAgICAgIHBlcmNlbnQgPSBlYXNpbmcocGVyY2VudCk7XHJcblxyXG4gICAgICBzY3JvbGxXaW5kb3cuc2Nyb2xsVG8oMCwgc3RhcnRpbmdZICsgZGlmZiAqIHBlcmNlbnQpO1xyXG5cclxuICAgICAgLy8gUHJvY2VlZCB3aXRoIGFuaW1hdGlvbiBhcyBsb25nIGFzIHdlIHdhbnRlZCBpdCB0by5cclxuICAgICAgaWYgKHRpbWUgPCBkdXJhdGlvbikge1xyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbUZyYW1lKHN0ZXApO1xyXG4gICAgICB9IGVsc2UgaWYgKGNiRnVuY3Rpb24pIHtcclxuICAgICAgICAvL09uIGFuaW1hdGlvbiBlbmQgZXhlY3V0ZSBjYWxsYmFjayBmdW5jdGlvbiBpZiBwcm92aWRlZC5cclxuICAgICAgICBjYkZ1bmN0aW9uKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHdpbmRvdy5zY3JvbGxUb0VsZW1lbnQgPSBzZWxmLnNjcm9sbFRvRWxlbWVudDtcclxufSkod2luZG93KTtcclxuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xyXG5cdGxldCB0YWJzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiX190aXRsZScpKTtcclxuXHJcblx0ZnVuY3Rpb24gdG9nZ2xlVGFiKHRhYklkKSB7XHJcblx0XHRsZXQgcHJldmlvdXNUYWJzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiX190aXRsZS0tc2VsZWN0ZWQnKSk7XHJcblx0XHRsZXQgYWN0aXZlVGFicyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRhYi1pZD0nXCIgKyB0YWJJZCArIFwiJ11cIikpO1xyXG5cdFx0bGV0IHByZXZpb3VzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJfX2NvbnRlbnQtLXNlbGVjdGVkJyk7XHJcblx0XHRsZXQgYWN0aXZlQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jb250ZW50LWlkPSdcIiArIHRhYklkICsgXCInXVwiKTtcclxuXHJcblx0XHQvL0RlYWN0aXZhdGUgcHJldmlvdXMgc2VsZWN0ZWQgdGFic1xyXG5cdFx0cHJldmlvdXNUYWJzLmZvckVhY2godGFiID0+IHRhYi5jbGFzc0xpc3QucmVtb3ZlKCd0YWJfX3RpdGxlLS1zZWxlY3RlZCcpKTtcclxuXHJcblx0XHQvL0FjdGl2YXRlIHRoZSBjdXJyZW50IGNvbnRlbnRcclxuXHRcdGFjdGl2ZVRhYnMuZm9yRWFjaCh0YWIgPT4gdGFiLmNsYXNzTGlzdC5hZGQoJ3RhYl9fdGl0bGUtLXNlbGVjdGVkJykpO1xyXG5cclxuXHRcdC8vVG9nZ2xlIGJldHdlZW4gcHJldmlvdXMgY29udGVudCBhbmRcclxuXHRcdHByZXZpb3VzQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCd0YWJfX2NvbnRlbnQtLXNlbGVjdGVkJyk7XHJcblx0XHRhY3RpdmVDb250ZW50LmNsYXNzTGlzdC5hZGQoJ3RhYl9fY29udGVudC0tc2VsZWN0ZWQnKTtcclxuXHR9XHJcblxyXG5cdHRhYnMuZm9yRWFjaCh0YWIgPT4ge1xyXG5cdFx0dGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRvZ2dsZVRhYih0aGlzLmRhdGFzZXQudGFiSWQpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdGxldCB0YWJzQ29udGFpbmVyID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiX19jb250YWluZXIgPiAudGFiX190aXRsZScpKTtcclxuXHJcblx0dGFic0NvbnRhaW5lci5mb3JFYWNoKHRhYkNvbnRhaW5lciA9PiB7XHJcblx0XHQvL09uIG1vYmlsZSBkZXZpY2VzLCBwb3NpdGlvbiB0aGUgd2luZG93IGluIGZyb250IG9mIHRoZSBhY3RpdmUgdGFiLlxyXG5cdFx0dGFiQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdHdpbmRvdy5zY3JvbGxUb0VsZW1lbnQodGhpcywgMTAwMCk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxufSkod2luZG93KTtcclxuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuXHQndXNlIHN0cmljdCc7XG5cblx0ZnVuY3Rpb24gX2dlbmVyYXRlTnVtYmVyKCkge1xuXHRcdHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyMDApO1xuXHR9XG5cblx0ZnVuY3Rpb24gX3JlbmRlcihudW1iZXIsIGFuc3dlcikge1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cml2aWFOdW1iZXInKS5pbm5lckhUTUwgPSBudW1iZXI7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RyaXZpYUFuc3dlcicpLmlubmVySFRNTCA9IGFuc3dlcjtcblx0fVxuXG5cdGZ1bmN0aW9uIF9yZXF1ZXN0VHJpdmlhKG51bWJlcikge1xuXHRcdGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHRcdHhoci5vbmxvYWQgPSAoKSA9PiBfcmVuZGVyKG51bWJlciwgeGhyLnJlc3BvbnNlKTtcblxuXHRcdHhoci5vcGVuKCdHRVQnLCAnaHR0cDovL251bWJlcnNhcGkuY29tLycgKyBudW1iZXIpO1xuXHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXHRcdHhoci5zZW5kKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBuZXdUcml2aWEoKSB7XG5cdFx0X3JlcXVlc3RUcml2aWEoX2dlbmVyYXRlTnVtYmVyKCkpO1xuXHR9XG5cblx0bmV3VHJpdmlhKCk7XG5cblx0d2luZG93Lm5ld1RyaXZpYSA9IG5ld1RyaXZpYTtcbn0pKHdpbmRvdyk7XG4iXX0=
