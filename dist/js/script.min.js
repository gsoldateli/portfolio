"use strict";!function(t){var n={el:null,init:function(){for(var t=this,n=document.querySelectorAll("body .accordion"),i=0;i<n.length;i++)n[i].addEventListener("click",function(n){var i=n.target||e.srcElement;i.className.indexOf("menu-label")>-1&&t._toggleActive(i)})},_toggleActive:function(e){var t=e.nextElementSibling;return-1===e.className.indexOf("active")?(e.classList.add("active"),t.style.height=1.3*this._innerHeight(t)+"px"):(e.classList.remove("active"),t.style.height=0),e},_innerHeight:function(e){height=0;for(var t=e.querySelectorAll("*"),n=0;n<t.length;n++)height+=t[n].clientHeight;return height}};window.$AC=n}(),$AC.init(),function(window){var calc={result:null,elements:{display:document.getElementById("display")},_setDisplay:function(e){this.elements.display.value=e},clear:function(){this._setDisplay("")},del:function(){var e=this.elements.display.value.slice(0,-1);(e.endsWith(".")||e.endsWith(","))&&(e=e.slice(0,-1)),this._setDisplay(e)},equals:function(){this.result=this.elements.display.value;var evalCode=this.result/100+";";this._setDisplay(eval(evalCode))}};window.calc=calc}(window);var _templateObject=_taggedTemplateLiteral(['<ul class="carousel__nav">\n\t\t\t\t',"\n\t\t\t</ul>"],['<ul class="carousel__nav">\n\t\t\t\t',"\n\t\t\t</ul>"]);function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Gallery(){var e=this;this.items=document.querySelectorAll("article.gallery-item"),this.bg=document.querySelector(".backimage"),this.init=function(){var t=e;t.items.forEach(function(e){e.addEventListener("click",function(){t.changeImage(this)})}),t.swipeDetection(function(e){if("none"===e)return!1;var n=document.querySelector(".gallery-item.active"),i=void 0;"left"!==e&&"top"!==e||null===(i=n.previousElementSibling)&&(i=t.items[t.items.length-1]),"right"!==e&&"bottom"!==e||null===(i=n.nextElementSibling)&&(i=t.items[0]),i.onclick?i.onclick():i.click&&i.click()}),e.changeImage(e.items[0])},this.changeImage=function(t){var n=e,i=t.querySelector("img").src;n.items.forEach(function(e){e.classList.remove("active")}),t.classList.add("active"),n.bg.classList.remove("fadeout","fadein"),n.bg.classList.add("fadeout"),setTimeout(function(){n.bg.classList.remove("fadeout"),n.bg.classList.add("fadein"),n.bg.style.backgroundImage="url('"+i+"')"},500)},this.swipeDetection=function(t){var n=e.bg,i=void 0,a=void 0,o=void 0,r=void 0,c=void 0,l=void 0,s=t||function(e){};n.addEventListener("touchstart",function(e){var t=e.changedTouches[0];i="none",dist=0,a=t.pageX,o=t.pageY,l=(new Date).getTime(),e.preventDefault()},!1),n.addEventListener("touchmove",function(e){e.preventDefault()},!1),n.addEventListener("touchend",function(e){var t=e.changedTouches[0];r=t.pageX-a,c=t.pageY-o,(new Date).getTime()-l<=300&&(Math.abs(r)>=80&&Math.abs(c)<=100?i=r<0?"left":"right":Math.abs(c)>=80&&Math.abs(r)<=100&&(i=c<0?"up":"down")),s(i),e.preventDefault()},!1)},this.init()}!function(e){window.carousel=void document.querySelectorAll(".carousel").forEach(function(e){new function(e){var t=this,n=e;this.items=n.querySelectorAll(".carousel__items > .carousel__item"),this.navItems=null,this.arrows=null,this.init=function(){t._generateNavigation(),t._generateArrows()},this.goTo=function(e){var i=n.querySelector(".carousel__nav > .carousel__nav-item--active"),a=n.querySelector(".carousel__item--active");i.classList.remove("carousel__nav-item--active"),a.classList.remove("carousel__item--active"),t.navItems[e].classList.add("carousel__nav-item--active"),t.items[e].classList.add("carousel__item--active")},this.arrowNav=function(e){var i=n.querySelector(".carousel__nav > .carousel__nav-item--active"),a=Number.parseInt(i.dataset.index)+e;void 0===t.navItems[a]&&(a=e>0?0:t.navItems.length-1),t.goTo(a)},this._generateNavigation=function(){var e,t,i,a,o=this,r=this.items,c="",l=document.createElement("div");t=r,i=(e=_templateObject)[0],a="carousel__nav-item--active",t.forEach(function(e,t){i+='<li class="carousel__nav-item '+a+'" data-index='+t+"> </li>",a=""}),c=i+=e[1],l.innerHTML=c,n.appendChild(l),this.navItems=n.querySelectorAll(".carousel__nav > li"),this.navItems.forEach(function(e){e.addEventListener("click",function(){o.arrowNav(1),o.goTo(this.dataset.index)})})},this._generateArrows=function(){var e=this,t=document.createElement("div");t.innerHTML='<span class="carousel__arrow carousel__arrow--left fa fa-chevron-left"></span>\n\t\t\t\t<span class="carousel__arrow carousel__arrow--right fa fa-chevron-right"></span>',n.appendChild(t),n.querySelector(".carousel__arrow--left").addEventListener("click",function(){e.arrowNav(-1)}),n.querySelector(".carousel__arrow--right").addEventListener("click",function(){e.arrowNav(1)})}}(e).init()})}();var $G=new Gallery;function windowWidthCount(){document.querySelector(".window-width-label").innerHTML=window.outerWidth}function closeLateralMenu(){document.querySelector("#menu-open").checked=""}function loadLiveExample(e){document.querySelector(".iframe-live").src=e}window.onload=function(){return windowWidthCount()},window.addEventListener("resize",function(){return windowWidthCount()}),function(e){Array.from(document.querySelectorAll("img[data-src]"),function(e){var t,n,i,a=((t=document.createElement("div")).classList.add("img-loader"),t.innerHTML='<div class="img-loader__icon"><span class="fa fa-refresh fa-spin"></span></div>',t);e.parentElement.insertBefore(a,e),e.setAttribute("src",e.getAttribute("data-src")),e.onload=(n=e,i=a,function(){i.remove(),n.removeAttribute("data-src")})})}(window),function(e){var t="modal__overlay--active";function n(e){e.style.opacity=1,function n(){(e.style.opacity-=.1)<0?(e.style.display="none",e.classList.remove(t)):requestAnimationFrame(n)}()}e.modal=function(e){var i,a=null,o=document.querySelector('[data-modal-id="'+e+'"]');return document.querySelector('.modal__overlay > [data-modal-id="'+e+'"]')&&(a=document.querySelector('.modal__overlay > [data-modal-id="'+e+'"]').parentElement),null===a&&(i=document.querySelector("body"),(a=document.createElement("section")).style.display="none",a.classList.add("modal__overlay"),a.classList.add("modal__overlay--active"),o.style.display="block",a.appendChild(o),i.appendChild(a),Array.from(a.querySelectorAll("[data-close]"),function(e){e.addEventListener("click",function(){n(a)})})),{fadeIn:function(){var e;(e=a).style.opacity=0,e.style.display="block",function n(){var i=parseFloat(e.style.opacity);(i+=.1)>1||(e.style.opacity=i,e.classList.add(t),requestAnimationFrame(n))}()},fadeOut:function(){n(a)}}},Array.from(document.querySelectorAll("[data-modal-open]"),function(t){t.addEventListener("click",function(){var t=this.dataset.modalOpen;e.modal(t).fadeIn()})})}(window),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},function(e){var t=e,n=document.querySelector(".content-holder"),i=document.querySelector(".navbar").getBoundingClientRect().height+10;t.getPosY=function(e){return(e=e.getBoundingClientRect()).top+n.scrollTop-i},t.scrollToElement=function(i,a,o){if(a||(a=1e3),i.nodeName||(i=document.querySelector(i)),!i)throw"Element inexistent!";var r=n.scrollTop,c=t.getPosY(i)-r,l=void 0;e.requestAnimFrame(function t(i){l||(l=i);var s,u=i-l,d=Math.min(u/a,1);d=(s=d)<.5?4*s*s*s:(s-1)*(2*s-2)*(2*s-2)+1,n.scrollTo(0,r+c*d),u<a?e.requestAnimFrame(t):o&&o()})},e.scrollToElement=t.scrollToElement}(window),function(e){Array.from(document.querySelectorAll(".tab__title")).forEach(function(e){e.addEventListener("click",function(){var e,t,n,i,a;e=this.dataset.tabId,t=Array.from(document.querySelectorAll(".tab__title--selected")),n=Array.from(document.querySelectorAll("[data-tab-id='"+e+"']")),i=document.querySelector(".tab__content--selected"),a=document.querySelector("[data-content-id='"+e+"']"),t.forEach(function(e){return e.classList.remove("tab__title--selected")}),n.forEach(function(e){return e.classList.add("tab__title--selected")}),i.classList.remove("tab__content--selected"),a.classList.add("tab__content--selected")})}),Array.from(document.querySelectorAll(".tab__container > .tab__title")).forEach(function(t){t.addEventListener("click",function(){e.scrollToElement(this,1e3)})})}(window),function(e){function t(e){var t=new XMLHttpRequest;t.onload=function(){return n=e,i=t.response,document.getElementById("triviaNumber").innerHTML=n,void(document.getElementById("triviaAnswer").innerHTML=i);var n,i},t.open("GET","http://numbersapi.com/"+e),t.setRequestHeader("Accept","application/json"),t.send()}function n(){t(Math.floor(200*Math.random()))}n(),e.newTrivia=n}(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY29yZGlvbi5qcyIsImNhbGN1bGF0b3IuanMiLCJnYWxsZXJ5LmpzIiwiY2Fyb3VzZWwuanMiLCJnbG9iYWwuanMiLCJsYXp5LWxvYWQuanMiLCJtb2RhbC5qcyIsInNjcm9sbHRvLmpzIiwidGFiLmpzIiwidHJpdmlhLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImFjY29yZGlvbiIsInNlbGYiLCJ0aGlzIiwiYWNMaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwieCIsImxlbmd0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNsaWNrZWRFbGVtZW50IiwidGFyZ2V0IiwiZSIsInNyY0VsZW1lbnQiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwiX3RvZ2dsZUFjdGl2ZSIsIml0ZW0iLCJib2R5RWwiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjbGFzc0xpc3QiLCJhZGQiLCJzdHlsZSIsImhlaWdodCIsIl9pbm5lckhlaWdodCIsInJlbW92ZSIsImVsIiwiaW5uZXJFbGVtZW50cyIsImkiLCJjbGllbnRIZWlnaHQiLCIkQUMiLCJpbml0IiwiY2FsYyIsInJlc3VsdCIsImVsZW1lbnRzIiwiZGlzcGxheSIsImdldEVsZW1lbnRCeUlkIiwiY29udGVudCIsInZhbHVlIiwiX3NldERpc3BsYXkiLCJkaXNwbGF5VmFsdWUiLCJzbGljZSIsImVuZHNXaXRoIiwiZXZhbENvZGUiLCJldmFsIiwiR2FsbGVyeSIsIl90aGlzIiwiaXRlbXMiLCJiZyIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JFYWNoIiwiY2hhbmdlSW1hZ2UiLCJzd2lwZURldGVjdGlvbiIsInN3aXBlRGlyIiwiYWN0aXZlSXRlbSIsInNlbGVjdGVkSXRlbSIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJvbmNsaWNrIiwiY2xpY2siLCJzcmMiLCJpbWFnZSIsInNldFRpbWVvdXQiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJjYWxsYmFjayIsInRvdWNoc3VyZmFjZSIsInN3aXBlZGlyIiwic3RhcnRYIiwic3RhcnRZIiwiZGlzdFgiLCJkaXN0WSIsInN0YXJ0VGltZSIsImhhbmRsZXN3aXBlIiwidG91Y2hvYmoiLCJjaGFuZ2VkVG91Y2hlcyIsImRpc3QiLCJwYWdlWCIsInBhZ2VZIiwiRGF0ZSIsImdldFRpbWUiLCJwcmV2ZW50RGVmYXVsdCIsIk1hdGgiLCJhYnMiLCJjYXJvdXNlbCIsImVsZW1lbnQiLCJyb290IiwibmF2SXRlbXMiLCJhcnJvd3MiLCJfZ2VuZXJhdGVOYXZpZ2F0aW9uIiwiX2dlbmVyYXRlQXJyb3dzIiwiZ29UbyIsImluZGV4Iiwic2VsZWN0ZWROYXYiLCJzZWxlY3RlZENvbnRlbnQiLCJhcnJvd05hdiIsImRpcmVjdGlvbiIsImdvdG9JbmRleCIsIk51bWJlciIsInBhcnNlSW50IiwiZGF0YXNldCIsInVuZGVmaW5lZCIsInN0cmluZ3MiLCJ0b2tlbnMiLCJtYXJrdXAiLCJmaXJzdENsYXNzIiwiaHRtbCIsIm5hdkVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiX3RlbXBsYXRlT2JqZWN0IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJuYXZJdGVtIiwiYXJyb3dDb250YWluZXIiLCIkRyIsIndpbmRvd1dpZHRoQ291bnQiLCJvdXRlcldpZHRoIiwiY2xvc2VMYXRlcmFsTWVudSIsImNoZWNrZWQiLCJsb2FkTGl2ZUV4YW1wbGUiLCJvbmxvYWQiLCJBcnJheSIsImZyb20iLCIkaW1hZ2UiLCJsb2FkaW5nIiwicGFyZW50RWxlbWVudCIsImluc2VydEJlZm9yZSIsInNldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImNiQ2xhc3MiLCJmYWRlT3V0Iiwib3BhY2l0eSIsImZhZGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb2RhbCIsImlkTW9kYWwiLCJib2R5IiwibW9kYWxPdmVybGF5IiwiY2xvc2VFbGVtZW50IiwiZmFkZUluIiwidmFsIiwicGFyc2VGbG9hdCIsIm1vZGFsT3BlbmVyIiwibW9kYWxPcGVuIiwicmVxdWVzdEFuaW1GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNjcm9sbFdpbmRvdyIsIm1lbnVIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRQb3NZIiwidG9wIiwic2Nyb2xsVG9wIiwic2Nyb2xsVG9FbGVtZW50IiwiZHVyYXRpb24iLCJjYkZ1bmN0aW9uIiwibm9kZU5hbWUiLCJzdGFydGluZ1kiLCJkaWZmIiwic3RhcnQiLCJzdGVwIiwidGltZXN0YW1wIiwidCIsInRpbWUiLCJwZXJjZW50IiwibWluIiwic2Nyb2xsVG8iLCJ0YWIiLCJ0YWJJZCIsInByZXZpb3VzVGFicyIsImFjdGl2ZVRhYnMiLCJwcmV2aW91c0NvbnRlbnQiLCJhY3RpdmVDb250ZW50IiwidGFiQ29udGFpbmVyIiwiX3JlcXVlc3RUcml2aWEiLCJudW1iZXIiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsImFuc3dlciIsInJlc3BvbnNlIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwibmV3VHJpdmlhIiwiZmxvb3IiLCJyYW5kb20iXSwibWFwcGluZ3MiOiJjQUFBLFNBQVVBLEdBQ1IsSUFBSUMsR0FFSkEsR0FBZSxLQUVmQSxLQUFpQixXQU9oQixJQU5BLElBQUlDLEVBQU9DLEtBR1BDLEVBQVNDLFNBQVNDLGlCQUFpQixtQkFHOUJDLEVBQUUsRUFBR0EsRUFBR0gsRUFBT0ksT0FBUUQsSUFFL0JILEVBQU9HLEdBQUdFLGlCQUFpQixRQUFTLFNBQVNDLEdBRTVDLElBQUlDLEVBQWlCRCxFQUFNRSxRQUFVQyxFQUFFQyxXQUduQ0gsRUFBZUksVUFBVUMsUUFBUSxlQUFpQixHQUNyRGQsRUFBS2UsY0FBY04sTUFNdkJWLGNBQTBCLFNBQVNpQixHQUNsQyxJQUFJQyxFQUFTRCxFQUFLRSxtQkFnQmxCLE9BZDBDLElBQXRDRixFQUFLSCxVQUFVQyxRQUFRLFdBRzFCRSxFQUFLRyxVQUFVQyxJQUFJLFVBRW5CSCxFQUFPSSxNQUFNQyxP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InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24od2luZG93KXtcclxuXHRcdHZhciBhY2NvcmRpb24gPSB7fTtcclxuXHJcblx0XHRhY2NvcmRpb24uZWwgPSBudWxsO1xyXG5cclxuXHRcdGFjY29yZGlvbi5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRcdC8vTGlzdCBhbGwgYWNjb3JkaW9uc1xyXG5cdFx0XHR2YXIgYWNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYm9keSAuYWNjb3JkaW9uJyk7XHJcblxyXG5cdFx0XHQvL1RvIGVhY2ggb25lXHJcblx0XHRcdGZvciggdmFyIHg9MDsgeDwgYWNMaXN0Lmxlbmd0aDsgeCsrKSB7XHJcblx0XHRcdFx0Ly9BZGQgbWVudS1sYWJlbCBjbGljayBldmVudCB0byBzaG93L2hpZGUgYm9kZHlcclxuXHRcdFx0XHRhY0xpc3RbeF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydCBJRTYtOFxyXG5cdFx0XHRcdFx0dmFyIGNsaWNrZWRFbGVtZW50ID0gZXZlbnQudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcclxuXHJcblx0XHRcdFx0XHQvL09ubHkgbGlzdGVuIHRvIGNsaWNrcyBvbiBtZW51LWxhYmVsIGVsZW1lbnRzLlxyXG5cdFx0XHRcdFx0aWYgKGNsaWNrZWRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKCdtZW51LWxhYmVsJykgPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLl90b2dnbGVBY3RpdmUoY2xpY2tlZEVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGFjY29yZGlvbi5fdG9nZ2xlQWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xyXG5cdFx0XHR2YXIgYm9keUVsID0gaXRlbS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcblx0XHRcdC8vSWYgaXRlbSB0aXRsZSBpcyBub3QgYWN0aXZlXHJcblx0XHRcdGlmIChpdGVtLmNsYXNzTmFtZS5pbmRleE9mKCdhY3RpdmUnKSA9PT0gLTEpIHtcclxuXHRcdFx0XHQvL0FjdGl2YXRlIGl0XHJcblx0XHRcdFx0Ly9pdGVtLmNsYXNzTmFtZSArPSAnIGFjdGl2ZSAnO1xyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRcdGJvZHlFbC5zdHlsZS5oZWlnaHQgPSAodGhpcy5faW5uZXJIZWlnaHQoYm9keUVsKSoxLjMpKydweCc7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly9EZXNhY3RpdmF0ZSBpdFxyXG5cdFx0XHRcdC8vaXRlbS5jbGFzc05hbWUgPSBpdGVtLmNsYXNzTmFtZS5yZXBsYWNlKC8gYWN0aXZlIC9nLCcnKTtcdFxyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdFx0Ym9keUVsLnN0eWxlLmhlaWdodCA9IDA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBpdGVtO1xyXG5cclxuXHRcdH07XHJcblxyXG5cdFx0YWNjb3JkaW9uLl9pbm5lckhlaWdodCA9IGZ1bmN0aW9uKGVsKSB7XHJcblx0XHRcdGhlaWdodCA9IDA7XHJcblx0XHRcdHZhciBpbm5lckVsZW1lbnRzID0gZWwucXVlcnlTZWxlY3RvckFsbCgnKicpO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpPCBpbm5lckVsZW1lbnRzLmxlbmd0aDsgaSsrICkge1xyXG5cdFx0XHRcdGhlaWdodCArPSBpbm5lckVsZW1lbnRzW2ldLmNsaWVudEhlaWdodDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGhlaWdodDtcclxuXHRcdH07XHJcblxyXG5cdFx0d2luZG93LiRBQyA9IGFjY29yZGlvbjtcclxuXHJcbn0pKHdpbmRvdyk7XHJcblxyXG4kQUMuaW5pdCgpOyIsIihmdW5jdGlvbih3aW5kb3cpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0dmFyIGNhbGMgPSB7XHJcblx0XHRyZXN1bHQ6IG51bGwsXHJcblx0XHRlbGVtZW50czoge1xyXG5cdFx0XHRkaXNwbGF5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheScpXHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y2FsYy5fc2V0RGlzcGxheSA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdHRoaXMuZWxlbWVudHMuZGlzcGxheS52YWx1ZSA9IGNvbnRlbnQ7XHJcblx0fTtcclxuXHJcblx0Y2FsYy5jbGVhciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fc2V0RGlzcGxheSgnJyk7XHJcblx0fTtcclxuXHJcblx0Y2FsYy5kZWwgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBkaXNwbGF5VmFsdWUgPSB0aGlzLmVsZW1lbnRzLmRpc3BsYXkudmFsdWUuc2xpY2UoMCwgLTEpO1xyXG5cclxuXHRcdGlmIChkaXNwbGF5VmFsdWUuZW5kc1dpdGgoJy4nKSB8fCBkaXNwbGF5VmFsdWUuZW5kc1dpdGgoJywnKSkge1xyXG5cdFx0XHRkaXNwbGF5VmFsdWUgPSBkaXNwbGF5VmFsdWUuc2xpY2UoMCwgLTEpOyAvL1JlbW92ZSAsIG9yIC5cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9zZXREaXNwbGF5KGRpc3BsYXlWYWx1ZSk7XHJcblx0fTtcclxuXHJcblx0Y2FsYy5lcXVhbHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMucmVzdWx0ID0gdGhpcy5lbGVtZW50cy5kaXNwbGF5LnZhbHVlO1xyXG5cdFx0dmFyIGV2YWxDb2RlID0gJycgKyB0aGlzLnJlc3VsdCAvIDEwMCArICc7JztcclxuXHJcblx0XHR0aGlzLl9zZXREaXNwbGF5KGV2YWwoZXZhbENvZGUpKTtcclxuXHR9O1xyXG5cclxuXHR3aW5kb3cuY2FsYyA9IGNhbGM7XHJcbn0pKHdpbmRvdyk7XHJcbiIsImZ1bmN0aW9uIEdhbGxlcnkoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHR0aGlzLml0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYXJ0aWNsZS5nYWxsZXJ5LWl0ZW0nKTtcclxuXHR0aGlzLmJnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tpbWFnZScpO1xyXG5cclxuXHR0aGlzLmluaXQgPSAoKSA9PiB7XHJcblx0XHRsZXQgc2VsZiA9IHRoaXM7XHJcblx0XHRzZWxmLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLmNoYW5nZUltYWdlKHRoaXMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vSW5pdCBzd2lwZSBkZXRlY3Rpb25cclxuXHRcdHNlbGYuc3dpcGVEZXRlY3Rpb24oc3dpcGVEaXIgPT4ge1xyXG5cdFx0XHRpZiAoc3dpcGVEaXIgPT09ICdub25lJykgcmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdFx0bGV0IGFjdGl2ZUl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeS1pdGVtLmFjdGl2ZScpO1xyXG5cclxuXHRcdFx0bGV0IHNlbGVjdGVkSXRlbTtcclxuXHRcdFx0aWYgKHN3aXBlRGlyID09PSAnbGVmdCcgfHwgc3dpcGVEaXIgPT09ICd0b3AnKSB7XHJcblx0XHRcdFx0Ly9QcmV2aW91c1xyXG5cdFx0XHRcdHNlbGVjdGVkSXRlbSA9IGFjdGl2ZUl0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZztcclxuXHJcblx0XHRcdFx0aWYgKHNlbGVjdGVkSXRlbSA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0Ly9JZiB0aGVyZSBpcyBubyBwcmV2aW91cyBpdGVtLCB1c2VzIHRoZSBsYXN0IG9uZVxyXG5cdFx0XHRcdFx0c2VsZWN0ZWRJdGVtID0gc2VsZi5pdGVtc1tzZWxmLml0ZW1zLmxlbmd0aCAtIDFdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHN3aXBlRGlyID09PSAncmlnaHQnIHx8IHN3aXBlRGlyID09PSAnYm90dG9tJykge1xyXG5cdFx0XHRcdC8vTmV4dFxyXG5cdFx0XHRcdHNlbGVjdGVkSXRlbSA9IGFjdGl2ZUl0ZW0ubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG5cclxuXHRcdFx0XHRpZiAoc2VsZWN0ZWRJdGVtID09PSBudWxsKSB7XHJcblx0XHRcdFx0XHQvL0lmIHRoZXJlIGlzIG5vIG5leHQgaXRlbSwgdXNlcyB0aGUgZmlyc3Qgb25lXHJcblx0XHRcdFx0XHRzZWxlY3RlZEl0ZW0gPSBzZWxmLml0ZW1zWzBdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9GRi9DaHJvbWUgY2xpY2sgbmFtZSBmdW5jdGlvbiBkaWZmZXJlbmNlXHJcblx0XHRcdGlmIChzZWxlY3RlZEl0ZW0ub25jbGljaykge1xyXG5cdFx0XHRcdHNlbGVjdGVkSXRlbS5vbmNsaWNrKCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoc2VsZWN0ZWRJdGVtLmNsaWNrKSB7XHJcblx0XHRcdFx0c2VsZWN0ZWRJdGVtLmNsaWNrKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuY2hhbmdlSW1hZ2UodGhpcy5pdGVtc1swXSk7XHJcblx0fTtcclxuXHJcblx0dGhpcy5jaGFuZ2VJbWFnZSA9IGl0ZW0gPT4ge1xyXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xyXG5cdFx0bGV0IHNyYyA9IGl0ZW0ucXVlcnlTZWxlY3RvcignaW1nJykuc3JjO1xyXG5cclxuXHRcdHNlbGYuaXRlbXMuZm9yRWFjaChpbWFnZSA9PiB7XHJcblx0XHRcdGltYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly9zZXQgdGhlIHNlbGVjdGVkIGl0ZW0gYXMgYWN0aXZlXHJcblx0XHRpdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuXHRcdHNlbGYuYmcuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZW91dCcsICdmYWRlaW4nKTtcclxuXHRcdHNlbGYuYmcuY2xhc3NMaXN0LmFkZCgnZmFkZW91dCcpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRzZWxmLmJnLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGVvdXQnKTtcclxuXHRcdFx0c2VsZi5iZy5jbGFzc0xpc3QuYWRkKCdmYWRlaW4nKTtcclxuXHRcdFx0c2VsZi5iZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke3NyY30nKWA7XHJcblx0XHR9LCA1MDApO1xyXG5cdH07XHJcblxyXG5cdC8vIFRoYW5rcyB0byBodHRwOi8vd3d3LmphdmFzY3JpcHRraXQuY29tL2phdmF0dXRvcnMvdG91Y2hldmVudHMyLnNodG1sXHJcblx0Ly8gUFM6LiBJJ3ZlIGRvbmUgdGhpcyBqdXN0IGZvciBzdHVkeSBwdXJwb3NlcywgaSdkIHJhdGhlciB0byBzZXBhcmF0ZSB0aGlzIGNvZGUgb3V0c2lkZSB0aGUgZ2FsbGVyeSBpdHNlbGZcclxuXHR0aGlzLnN3aXBlRGV0ZWN0aW9uID0gY2FsbGJhY2sgPT4ge1xyXG5cdFx0bGV0IHRvdWNoc3VyZmFjZSA9IHRoaXMuYmcsXHJcblx0XHRcdHN3aXBlZGlyLFxyXG5cdFx0XHRzdGFydFgsXHJcblx0XHRcdHN0YXJ0WSxcclxuXHRcdFx0ZGlzdFgsXHJcblx0XHRcdGRpc3RZLFxyXG5cdFx0XHR0aHJlc2hvbGQgPSA4MCwgLy9yZXF1aXJlZCBtaW4gZGlzdGFuY2UgdHJhdmVsZWQgdG8gYmUgY29uc2lkZXJlZCBzd2lwZVxyXG5cdFx0XHRyZXN0cmFpbnQgPSAxMDAsIC8vIG1heGltdW0gZGlzdGFuY2UgYWxsb3dlZCBhdCB0aGUgc2FtZSB0aW1lIGluIHBlcnBlbmRpY3VsYXIgZGlyZWN0aW9uXHJcblx0XHRcdGFsbG93ZWRUaW1lID0gMzAwLCAvLyBtYXhpbXVtIHRpbWUgYWxsb3dlZCB0byB0cmF2ZWwgdGhhdCBkaXN0YW5jZVxyXG5cdFx0XHRlbGFwc2VkVGltZSxcclxuXHRcdFx0c3RhcnRUaW1lLFxyXG5cdFx0XHRoYW5kbGVzd2lwZSA9IGNhbGxiYWNrIHx8IChzd2lwZWRpciA9PiB7fSk7XHJcblxyXG5cdFx0dG91Y2hzdXJmYWNlLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdCd0b3VjaHN0YXJ0JyxcclxuXHRcdFx0ZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGxldCB0b3VjaG9iaiA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XHJcblx0XHRcdFx0c3dpcGVkaXIgPSAnbm9uZSc7XHJcblx0XHRcdFx0ZGlzdCA9IDA7XHJcblx0XHRcdFx0c3RhcnRYID0gdG91Y2hvYmoucGFnZVg7XHJcblx0XHRcdFx0c3RhcnRZID0gdG91Y2hvYmoucGFnZVk7XHJcblx0XHRcdFx0c3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7IC8vIHJlY29yZCB0aW1lIHdoZW4gZmluZ2VyIGZpcnN0IG1ha2VzIGNvbnRhY3Qgd2l0aCBzdXJmYWNlXHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRmYWxzZVxyXG5cdFx0KTtcclxuXHJcblx0XHR0b3VjaHN1cmZhY2UuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0J3RvdWNobW92ZScsXHJcblx0XHRcdGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgc2Nyb2xsaW5nIHdoZW4gaW5zaWRlIERJVlxyXG5cdFx0XHR9LFxyXG5cdFx0XHRmYWxzZVxyXG5cdFx0KTtcclxuXHJcblx0XHR0b3VjaHN1cmZhY2UuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0J3RvdWNoZW5kJyxcclxuXHRcdFx0ZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGxldCB0b3VjaG9iaiA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XHJcblx0XHRcdFx0ZGlzdFggPSB0b3VjaG9iai5wYWdlWCAtIHN0YXJ0WDsgLy8gZ2V0IGhvcml6b250YWwgZGlzdCB0cmF2ZWxlZCBieSBmaW5nZXIgd2hpbGUgaW4gY29udGFjdCB3aXRoIHN1cmZhY2VcclxuXHRcdFx0XHRkaXN0WSA9IHRvdWNob2JqLnBhZ2VZIC0gc3RhcnRZOyAvLyBnZXQgdmVydGljYWwgZGlzdCB0cmF2ZWxlZCBieSBmaW5nZXIgd2hpbGUgaW4gY29udGFjdCB3aXRoIHN1cmZhY2VcclxuXHRcdFx0XHRlbGFwc2VkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lOyAvLyBnZXQgdGltZSBlbGFwc2VkXHJcblx0XHRcdFx0aWYgKGVsYXBzZWRUaW1lIDw9IGFsbG93ZWRUaW1lKSB7XHJcblx0XHRcdFx0XHQvLyBmaXJzdCBjb25kaXRpb24gZm9yIGF3aXBlIG1ldFxyXG5cdFx0XHRcdFx0aWYgKE1hdGguYWJzKGRpc3RYKSA+PSB0aHJlc2hvbGQgJiYgTWF0aC5hYnMoZGlzdFkpIDw9IHJlc3RyYWludCkge1xyXG5cdFx0XHRcdFx0XHQvLyAybmQgY29uZGl0aW9uIGZvciBob3Jpem9udGFsIHN3aXBlIG1ldFxyXG5cdFx0XHRcdFx0XHRzd2lwZWRpciA9IGRpc3RYIDwgMCA/ICdsZWZ0JyA6ICdyaWdodCc7IC8vIGlmIGRpc3QgdHJhdmVsZWQgaXMgbmVnYXRpdmUsIGl0IGluZGljYXRlcyBsZWZ0IHN3aXBlXHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKE1hdGguYWJzKGRpc3RZKSA+PSB0aHJlc2hvbGQgJiYgTWF0aC5hYnMoZGlzdFgpIDw9IHJlc3RyYWludCkge1xyXG5cdFx0XHRcdFx0XHQvLyAybmQgY29uZGl0aW9uIGZvciB2ZXJ0aWNhbCBzd2lwZSBtZXRcclxuXHRcdFx0XHRcdFx0c3dpcGVkaXIgPSBkaXN0WSA8IDAgPyAndXAnIDogJ2Rvd24nOyAvLyBpZiBkaXN0IHRyYXZlbGVkIGlzIG5lZ2F0aXZlLCBpdCBpbmRpY2F0ZXMgdXAgc3dpcGVcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aGFuZGxlc3dpcGUoc3dpcGVkaXIpO1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0ZmFsc2VcclxuXHRcdCk7XHJcblx0fTtcclxuXHJcblx0dGhpcy5pbml0KCk7XHJcbn1cclxuXHJcbmxldCAkRyA9IG5ldyBHYWxsZXJ5KCk7XHJcbiIsIi8vJGNhcm91c2VsXHJcbihmdW5jdGlvbih3aW5kb3cpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0ZnVuY3Rpb24gQ2Fyb3VzZWwoZWxlbWVudCkge1xyXG5cdFx0bGV0IHJvb3QgPSBlbGVtZW50O1xyXG5cdFx0dGhpcy5pdGVtcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsX19pdGVtcyA+IC5jYXJvdXNlbF9faXRlbScpO1xyXG5cdFx0dGhpcy5uYXZJdGVtcyA9IG51bGw7XHJcblx0XHR0aGlzLmFycm93cyA9IG51bGw7XHJcblxyXG5cdFx0dGhpcy5pbml0ID0gKCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9nZW5lcmF0ZU5hdmlnYXRpb24oKTtcclxuXHRcdFx0dGhpcy5fZ2VuZXJhdGVBcnJvd3MoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5nb1RvID0gaW5kZXggPT4ge1xyXG5cdFx0XHRsZXQgc2VsZWN0ZWROYXYgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbF9fbmF2ID4gLmNhcm91c2VsX19uYXYtaXRlbS0tYWN0aXZlJyk7XHJcblx0XHRcdGxldCBzZWxlY3RlZENvbnRlbnQgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbF9faXRlbS0tYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRzZWxlY3RlZE5hdi5jbGFzc0xpc3QucmVtb3ZlKCdjYXJvdXNlbF9fbmF2LWl0ZW0tLWFjdGl2ZScpO1xyXG5cdFx0XHRzZWxlY3RlZENvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2Fyb3VzZWxfX2l0ZW0tLWFjdGl2ZScpO1xyXG5cclxuXHRcdFx0dGhpcy5uYXZJdGVtc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWxfX25hdi1pdGVtLS1hY3RpdmUnKTtcclxuXHRcdFx0dGhpcy5pdGVtc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWxfX2l0ZW0tLWFjdGl2ZScpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmFycm93TmF2ID0gZGlyZWN0aW9uID0+IHtcclxuXHRcdFx0bGV0IHNlbGVjdGVkTmF2ID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWxfX25hdiA+IC5jYXJvdXNlbF9fbmF2LWl0ZW0tLWFjdGl2ZScpO1xyXG5cdFx0XHRsZXQgZ290b0luZGV4ID0gTnVtYmVyLnBhcnNlSW50KHNlbGVjdGVkTmF2LmRhdGFzZXQuaW5kZXgpICsgZGlyZWN0aW9uO1xyXG5cdFx0XHRsZXQgZ29UbyA9IHRoaXMubmF2SXRlbXNbZ290b0luZGV4XTtcclxuXHJcblx0XHRcdGlmIChnb1RvID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRkaXJlY3Rpb24gPiAwID8gKGdvdG9JbmRleCA9IDApIDogKGdvdG9JbmRleCA9IHRoaXMubmF2SXRlbXMubGVuZ3RoIC0gMSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuZ29Ubyhnb3RvSW5kZXgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLl9nZW5lcmF0ZU5hdmlnYXRpb24gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0bGV0IHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRsZXQgaXRlbXMgPSB0aGlzLml0ZW1zO1xyXG5cdFx0XHRsZXQgaHRtbCA9ICcnO1xyXG5cdFx0XHRsZXQgbmF2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gYnVpbGRDYXJvdXNlbEl0ZW1zKHN0cmluZ3MsIHRva2Vucykge1xyXG5cdFx0XHRcdGxldCBtYXJrdXAgPSBzdHJpbmdzWzBdO1xyXG5cdFx0XHRcdGxldCBmaXJzdENsYXNzID0gJ2Nhcm91c2VsX19uYXYtaXRlbS0tYWN0aXZlJztcclxuXHJcblx0XHRcdFx0dG9rZW5zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRtYXJrdXAgKz0gYDxsaSBjbGFzcz1cImNhcm91c2VsX19uYXYtaXRlbSAke2ZpcnN0Q2xhc3N9XCIgZGF0YS1pbmRleD0ke2luZGV4fT4gPC9saT5gO1xyXG5cdFx0XHRcdFx0Zmlyc3RDbGFzcyA9ICcnO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRtYXJrdXAgKz0gc3RyaW5nc1sxXTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG1hcmt1cDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aHRtbCA9IGJ1aWxkQ2Fyb3VzZWxJdGVtc2A8dWwgY2xhc3M9XCJjYXJvdXNlbF9fbmF2XCI+XHJcblx0XHRcdFx0JHtpdGVtc31cclxuXHRcdFx0PC91bD5gO1xyXG5cclxuXHRcdFx0bmF2RWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xyXG5cdFx0XHRyb290LmFwcGVuZENoaWxkKG5hdkVsZW1lbnQpO1xyXG5cclxuXHRcdFx0dGhpcy5uYXZJdGVtcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsX19uYXYgPiBsaScpO1xyXG5cdFx0XHR0aGlzLm5hdkl0ZW1zLmZvckVhY2gobmF2SXRlbSA9PiB7XHJcblx0XHRcdFx0bmF2SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0c2VsZi5hcnJvd05hdigxKTtcclxuXHRcdFx0XHRcdHNlbGYuZ29Ubyh0aGlzLmRhdGFzZXQuaW5kZXgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5fZ2VuZXJhdGVBcnJvd3MgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0bGV0IHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRsZXQgYXJyb3dDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0YXJyb3dDb250YWluZXIuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiY2Fyb3VzZWxfX2Fycm93IGNhcm91c2VsX19hcnJvdy0tbGVmdCBmYSBmYS1jaGV2cm9uLWxlZnRcIj48L3NwYW4+XHJcblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJjYXJvdXNlbF9fYXJyb3cgY2Fyb3VzZWxfX2Fycm93LS1yaWdodCBmYSBmYS1jaGV2cm9uLXJpZ2h0XCI+PC9zcGFuPmA7XHJcblxyXG5cdFx0XHRyb290LmFwcGVuZENoaWxkKGFycm93Q29udGFpbmVyKTtcclxuXHJcblx0XHRcdHJvb3QucXVlcnlTZWxlY3RvcignLmNhcm91c2VsX19hcnJvdy0tbGVmdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5hcnJvd05hdigtMSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cm9vdC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWxfX2Fycm93LS1yaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5hcnJvd05hdigxKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0d2luZG93LmNhcm91c2VsID0gKGZ1bmN0aW9uKGVsZW1lbnRzKSB7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwnKS5mb3JFYWNoKGNhcm91c2VsID0+IHtcclxuXHRcdFx0bGV0IGNhciA9IG5ldyBDYXJvdXNlbChjYXJvdXNlbCk7XHJcblx0XHRcdGNhci5pbml0KCk7XHJcblx0XHR9KTtcclxuXHR9KSgpO1xyXG59KSh3aW5kb3cpO1xyXG4iLCJmdW5jdGlvbiB3aW5kb3dXaWR0aENvdW50KCkge1xyXG5cdGxldCAkd2lkdGhMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctd2lkdGgtbGFiZWwnKTtcclxuXHQkd2lkdGhMYWJlbC5pbm5lckhUTUwgPSB3aW5kb3cub3V0ZXJXaWR0aDtcclxufVxyXG5cclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHdpbmRvd1dpZHRoQ291bnQoKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB3aW5kb3dXaWR0aENvdW50KCkpO1xyXG5cclxuZnVuY3Rpb24gY2xvc2VMYXRlcmFsTWVudSgpIHtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVudS1vcGVuJykuY2hlY2tlZCA9ICcnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkTGl2ZUV4YW1wbGUoc3JjKSB7XHJcblx0bGV0ICRpZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWZyYW1lLWxpdmUnKTtcclxuXHQkaWZyYW1lLnNyYyA9IHNyYztcclxufVxyXG4iLCIoZnVuY3Rpb24od2luZG93KSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdC8vR2V0IGFsbCBpbWFnZXMgdG8gYmUgbGF6eSBsb2FkZWRcclxuXHRBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZ1tkYXRhLXNyY10nKSwgJGltYWdlID0+IHtcclxuXHRcdGxldCBsb2FkaW5nID0gY3JlYXRlTG9hZGluZygpO1xyXG5cclxuXHRcdC8vSW5zZXJ0IGxvYWRpbmcgZWxlbWVudCBiZWZvcmUgdGhlIGltYWdlXHJcblx0XHQkaW1hZ2UucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUobG9hZGluZywgJGltYWdlKTtcclxuXHJcblx0XHQvL0RlZmluZSBzcmMgYXR0cmlidXRlIHdpdGggdGhlIGRhdGEtc3JjXHJcblx0XHQkaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCAkaW1hZ2UuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpKTtcclxuXHJcblx0XHQkaW1hZ2Uub25sb2FkID0gb25Mb2FkSW1hZ2UoJGltYWdlLCBsb2FkaW5nKTtcclxuXHR9KTtcclxuXHJcblx0ZnVuY3Rpb24gb25Mb2FkSW1hZ2UoaW1hZ2UsIGxvYWRpbmcpIHtcclxuXHRcdHJldHVybiAoKSA9PiB7XHJcblx0XHRcdC8vUmVtb3ZlIGxvYWRpbmcgd2hlbiBpbWFnZSBsb2Fkcy5cclxuXHRcdFx0bG9hZGluZy5yZW1vdmUoKTtcclxuXHRcdFx0Ly9SZW1vdmUgZGF0YS1zcmMgdG8gYXBwbHkgdGhlIG5lZWRlZCBjc3MgYW5pbWF0aW9ucy5cclxuXHRcdFx0aW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNyYycpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGNyZWF0ZUxvYWRpbmcoKSB7XHJcblx0XHRsZXQgbG9hZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0bG9hZGluZy5jbGFzc0xpc3QuYWRkKCdpbWctbG9hZGVyJyk7XHJcblx0XHRsb2FkaW5nLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiaW1nLWxvYWRlcl9faWNvblwiPicgKyAnPHNwYW4gY2xhc3M9XCJmYSBmYS1yZWZyZXNoIGZhLXNwaW5cIj48L3NwYW4+JyArICc8L2Rpdj4nO1xyXG5cclxuXHRcdHJldHVybiBsb2FkaW5nO1xyXG5cdH1cclxufSkod2luZG93KTtcclxuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICAvL0NsYXNzIGFwcGxpZWQgd2hlbiBtb2RhbCBvcGFjaXR5IGlzIDFcclxuICBsZXQgY2JDbGFzcyA9ICdtb2RhbF9fb3ZlcmxheS0tYWN0aXZlJztcclxuXHJcbiAgZnVuY3Rpb24gZmFkZU91dChlbCkge1xyXG4gICAgZWwuc3R5bGUub3BhY2l0eSA9IDE7XHJcblxyXG4gICAgKGZ1bmN0aW9uIGZhZGUoKSB7XHJcbiAgICAgIGlmICgoZWwuc3R5bGUub3BhY2l0eSAtPSAwLjEpIDwgMCkge1xyXG4gICAgICAgIC8vZWwucmVtb3ZlKCk7XHJcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNiQ2xhc3MpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmYWRlKTtcclxuICAgICAgfVxyXG4gICAgfSkoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZhZGVJbihlbCkge1xyXG4gICAgZWwuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAoZnVuY3Rpb24gZmFkZSgpIHtcclxuICAgICAgbGV0IHZhbCA9IHBhcnNlRmxvYXQoZWwuc3R5bGUub3BhY2l0eSk7XHJcbiAgICAgIC8vSW5jcmVhc2Ugb3BhY2l0eSB3aGlsZSBpdCBpcyBub3QgdG90YWxseSBvcGFxdWUuXHJcbiAgICAgIGlmICghKCh2YWwgKz0gMC4xKSA+IDEpKSB7XHJcbiAgICAgICAgZWwuc3R5bGUub3BhY2l0eSA9IHZhbDtcclxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNiQ2xhc3MpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmYWRlKTtcclxuICAgICAgfVxyXG4gICAgfSkoKTtcclxuICB9XHJcblxyXG4gIHdpbmRvdy5tb2RhbCA9IGlkTW9kYWwgPT4ge1xyXG4gICAgbGV0IG1vZGFsT3ZlcmxheSA9IG51bGw7XHJcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2RhbC1pZD1cIicgKyBpZE1vZGFsICsgJ1wiXScpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9jcmVhdGVPdmVybGF5KCkge1xyXG4gICAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuXHJcbiAgICAgIC8vQ3JlYXRlIG1vZGFsIG92ZXJsYXkgZWxlbWVudFxyXG4gICAgICBtb2RhbE92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XHJcbiAgICAgIG1vZGFsT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgbW9kYWxPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ21vZGFsX19vdmVybGF5Jyk7XHJcbiAgICAgIG1vZGFsT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdtb2RhbF9fb3ZlcmxheS0tYWN0aXZlJyk7XHJcblxyXG4gICAgICAvL01ha2UgbW9kYWwgY29udGFpbmVyIHZpc2libGVcclxuICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgICAvL0FwcGVuZCBtb2RhbCBjb250YWluZXIgaW50byB0aGUgZnJlc2ggbmV3IG92ZXJsYXlcclxuICAgICAgbW9kYWxPdmVybGF5LmFwcGVuZENoaWxkKG1vZGFsKTtcclxuXHJcbiAgICAgIC8vQXBwZW5kIG1vZGFsIG92ZXJsYXkgaW50byB0aGUgZG9jdW1lbnQuXHJcbiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobW9kYWxPdmVybGF5KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcmVnaXN0ZXJDbG9zZUV2ZW50cygpIHtcclxuICAgICAgQXJyYXkuZnJvbShtb2RhbE92ZXJsYXkucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY2xvc2VdJyksIGNsb3NlRWxlbWVudCA9PiB7XHJcbiAgICAgICAgY2xvc2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBmYWRlT3V0KG1vZGFsT3ZlcmxheSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy9DaGVjayBpZiBtb2RhbCBpcyBhbHJlYWR5IGNyZWF0ZWQuXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19vdmVybGF5ID4gW2RhdGEtbW9kYWwtaWQ9XCInICsgaWRNb2RhbCArICdcIl0nKSkge1xyXG4gICAgICAvL1NldCBtb2RhbCBvdmVybGF5IGFzIHRoZSBhbHJlYWR5IGNyZWF0ZWQgbW9kYWwgb3ZlcmxheS5cclxuICAgICAgbW9kYWxPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19vdmVybGF5ID4gW2RhdGEtbW9kYWwtaWQ9XCInICsgaWRNb2RhbCArICdcIl0nKS5wYXJlbnRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtb2RhbE92ZXJsYXkgPT09IG51bGwpIHtcclxuICAgICAgX2NyZWF0ZU92ZXJsYXkoKTtcclxuICAgICAgX3JlZ2lzdGVyQ2xvc2VFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBmYWRlSW46ICgpID0+IHtcclxuICAgICAgICBmYWRlSW4obW9kYWxPdmVybGF5KTtcclxuICAgICAgfSxcclxuICAgICAgZmFkZU91dDogKCkgPT4ge1xyXG4gICAgICAgIGZhZGVPdXQobW9kYWxPdmVybGF5KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICAvL0luaXQgbW9kYWwgb3BlbmVyc1xyXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kYWwtb3Blbl0nKSwgbW9kYWxPcGVuZXIgPT4ge1xyXG4gICAgbW9kYWxPcGVuZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgbGV0IGlkTW9kYWwgPSB0aGlzLmRhdGFzZXQubW9kYWxPcGVuO1xyXG4gICAgICB3aW5kb3cubW9kYWwoaWRNb2RhbCkuZmFkZUluKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkod2luZG93KTtcclxuIiwiLy8gUmVmZXJlbmNlOiBodHRwOi8vd3d3LnBhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cclxud2luZG93LnJlcXVlc3RBbmltRnJhbWUgPSAoZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgIChjYWxsYmFjayA9PiB7XHJcbiAgICAgIC8vV29yc3QgY2FzZSBzY2VuYXJpbyB0cmlnZ2VyIGFuaW1hdGlvbiB2aWEgc2V0VGltZW91dC5cclxuICAgICAgd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XHJcbiAgICB9KVxyXG4gICk7XHJcbn0pKCk7XHJcblxyXG4vL1RoaXMgaXMgYW4gYWRhcHRhdGlvbiBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE3NzIyNDk3L3Njcm9sbC1zbW9vdGhseS10by1zcGVjaWZpYy1lbGVtZW50LW9uLXBhZ2VcclxuKGZ1bmN0aW9uKHdpbmRvdykge1xyXG4gIGxldCBzZWxmID0gd2luZG93O1xyXG5cclxuICAvL1RPRE8gRmxleGJpbGl6ZSB0aGlzIGNvZGUuXHJcbiAgbGV0IHNjcm9sbFdpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50LWhvbGRlcicpO1xyXG5cclxuICAvL1RPRE8gRmxleGliaWxpemUgdGhpcyBjb2RlLlxyXG4gIGxldCBtZW51SGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCArIDEwO1xyXG5cclxuICBzZWxmLmdldFBvc1kgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHJldHVybiBlbGVtZW50LnRvcCArIHNjcm9sbFdpbmRvdy5zY3JvbGxUb3AgLSBtZW51SGVpZ2h0O1xyXG4gIH07XHJcblxyXG4gIHNlbGYuc2Nyb2xsVG9FbGVtZW50ID0gKGVsZW1lbnQsIGR1cmF0aW9uLCBjYkZ1bmN0aW9uKSA9PiB7XHJcbiAgICBpZiAoIWR1cmF0aW9uKSB7XHJcbiAgICAgIGR1cmF0aW9uID0gMTAwMDtcclxuICAgIH1cclxuXHJcbiAgICAvL0lmIENTUyBzZWxlY3RvciBpcyBwYXNzZWQuXHJcbiAgICBpZiAoIWVsZW1lbnQubm9kZU5hbWUpIHtcclxuICAgICAgLy8gUXVlcnkgaXQgaW50byBET00gZWxlbWVudFxyXG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgdGhyb3cgJ0VsZW1lbnQgaW5leGlzdGVudCEnO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzdGFydGluZ1kgPSBzY3JvbGxXaW5kb3cuc2Nyb2xsVG9wO1xyXG5cclxuICAgIGxldCBkaWZmID0gc2VsZi5nZXRQb3NZKGVsZW1lbnQpIC0gc3RhcnRpbmdZO1xyXG4gICAgbGV0IHN0YXJ0O1xyXG5cclxuICAgIC8vR290IGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZ3JlLzE2NTAyOTRcclxuICAgIGxldCBlYXNpbmcgPSBmdW5jdGlvbih0KSB7XHJcbiAgICAgIHJldHVybiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQm9vdHN0cmFwIG91ciBhbmltYXRpb24gLSBpdCB3aWxsIGdldCBjYWxsZWQgcmlnaHQgYmVmb3JlIG5leHQgZnJhbWUgc2hhbGwgYmUgcmVuZGVyZWQuXHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbiBzdGVwKHRpbWVzdGFtcCkge1xyXG4gICAgICBpZiAoIXN0YXJ0KSBzdGFydCA9IHRpbWVzdGFtcDtcclxuXHJcbiAgICAgIC8vIEVsYXBzZWQgbWlsaXNlY29uZHMgc2luY2Ugc3RhcnQgb2Ygc2Nyb2xsaW5nLlxyXG4gICAgICBsZXQgdGltZSA9IHRpbWVzdGFtcCAtIHN0YXJ0O1xyXG4gICAgICAvLyBHZXQgcGVyY2VudCBvZiBjb21wbGV0aW9uIGluIHJhbmdlIFswLCAxXS5cclxuICAgICAgbGV0IHBlcmNlbnQgPSBNYXRoLm1pbih0aW1lIC8gZHVyYXRpb24sIDEpO1xyXG5cclxuICAgICAgcGVyY2VudCA9IGVhc2luZyhwZXJjZW50KTtcclxuXHJcbiAgICAgIHNjcm9sbFdpbmRvdy5zY3JvbGxUbygwLCBzdGFydGluZ1kgKyBkaWZmICogcGVyY2VudCk7XHJcblxyXG4gICAgICAvLyBQcm9jZWVkIHdpdGggYW5pbWF0aW9uIGFzIGxvbmcgYXMgd2Ugd2FudGVkIGl0IHRvLlxyXG4gICAgICBpZiAodGltZSA8IGR1cmF0aW9uKSB7XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltRnJhbWUoc3RlcCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoY2JGdW5jdGlvbikge1xyXG4gICAgICAgIC8vT24gYW5pbWF0aW9uIGVuZCBleGVjdXRlIGNhbGxiYWNrIGZ1bmN0aW9uIGlmIHByb3ZpZGVkLlxyXG4gICAgICAgIGNiRnVuY3Rpb24oKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgd2luZG93LnNjcm9sbFRvRWxlbWVudCA9IHNlbGYuc2Nyb2xsVG9FbGVtZW50O1xyXG59KSh3aW5kb3cpO1xyXG4iLCIoZnVuY3Rpb24od2luZG93KSB7XHJcblx0bGV0IHRhYnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJfX3RpdGxlJykpO1xyXG5cclxuXHRmdW5jdGlvbiB0b2dnbGVUYWIodGFiSWQpIHtcclxuXHRcdGxldCBwcmV2aW91c1RhYnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJfX3RpdGxlLS1zZWxlY3RlZCcpKTtcclxuXHRcdGxldCBhY3RpdmVUYWJzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtdGFiLWlkPSdcIiArIHRhYklkICsgXCInXVwiKSk7XHJcblx0XHRsZXQgcHJldmlvdXNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYl9fY29udGVudC0tc2VsZWN0ZWQnKTtcclxuXHRcdGxldCBhY3RpdmVDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWNvbnRlbnQtaWQ9J1wiICsgdGFiSWQgKyBcIiddXCIpO1xyXG5cclxuXHRcdC8vRGVhY3RpdmF0ZSBwcmV2aW91cyBzZWxlY3RlZCB0YWJzXHJcblx0XHRwcmV2aW91c1RhYnMuZm9yRWFjaCh0YWIgPT4gdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ3RhYl9fdGl0bGUtLXNlbGVjdGVkJykpO1xyXG5cclxuXHRcdC8vQWN0aXZhdGUgdGhlIGN1cnJlbnQgY29udGVudFxyXG5cdFx0YWN0aXZlVGFicy5mb3JFYWNoKHRhYiA9PiB0YWIuY2xhc3NMaXN0LmFkZCgndGFiX190aXRsZS0tc2VsZWN0ZWQnKSk7XHJcblxyXG5cdFx0Ly9Ub2dnbGUgYmV0d2VlbiBwcmV2aW91cyBjb250ZW50IGFuZFxyXG5cdFx0cHJldmlvdXNDb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3RhYl9fY29udGVudC0tc2VsZWN0ZWQnKTtcclxuXHRcdGFjdGl2ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgndGFiX19jb250ZW50LS1zZWxlY3RlZCcpO1xyXG5cdH1cclxuXHJcblx0dGFicy5mb3JFYWNoKHRhYiA9PiB7XHJcblx0XHR0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0dG9nZ2xlVGFiKHRoaXMuZGF0YXNldC50YWJJZCk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0bGV0IHRhYnNDb250YWluZXIgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJfX2NvbnRhaW5lciA+IC50YWJfX3RpdGxlJykpO1xyXG5cclxuXHR0YWJzQ29udGFpbmVyLmZvckVhY2godGFiQ29udGFpbmVyID0+IHtcclxuXHRcdC8vT24gbW9iaWxlIGRldmljZXMsIHBvc2l0aW9uIHRoZSB3aW5kb3cgaW4gZnJvbnQgb2YgdGhlIGFjdGl2ZSB0YWIuXHJcblx0XHR0YWJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0d2luZG93LnNjcm9sbFRvRWxlbWVudCh0aGlzLCAxMDAwKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59KSh3aW5kb3cpO1xyXG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRmdW5jdGlvbiBfZ2VuZXJhdGVOdW1iZXIoKSB7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwMCk7XG5cdH1cblxuXHRmdW5jdGlvbiBfcmVuZGVyKG51bWJlciwgYW5zd2VyKSB7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RyaXZpYU51bWJlcicpLmlubmVySFRNTCA9IG51bWJlcjtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJpdmlhQW5zd2VyJykuaW5uZXJIVE1MID0gYW5zd2VyO1xuXHR9XG5cblx0ZnVuY3Rpb24gX3JlcXVlc3RUcml2aWEobnVtYmVyKSB7XG5cdFx0bGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cdFx0eGhyLm9ubG9hZCA9ICgpID0+IF9yZW5kZXIobnVtYmVyLCB4aHIucmVzcG9uc2UpO1xuXG5cdFx0eGhyLm9wZW4oJ0dFVCcsICdodHRwOi8vbnVtYmVyc2FwaS5jb20vJyArIG51bWJlcik7XG5cdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cdFx0eGhyLnNlbmQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIG5ld1RyaXZpYSgpIHtcblx0XHRfcmVxdWVzdFRyaXZpYShfZ2VuZXJhdGVOdW1iZXIoKSk7XG5cdH1cblxuXHRuZXdUcml2aWEoKTtcblxuXHR3aW5kb3cubmV3VHJpdmlhID0gbmV3VHJpdmlhO1xufSkod2luZG93KTtcbiJdfQ==
